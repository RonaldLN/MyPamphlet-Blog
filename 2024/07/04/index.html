<!doctype html><html class=no-js lang=zh><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=../03/ rel=prev><link href=../06/pythonmediapipe/ rel=next><link href=../../../icons/favicon.png rel=icon><meta content="mkdocs-1.5.3, mkdocs-material-9.4.6" name=generator><title>é‡æ–°ç¼–å†™è§†è§‰æ¨¡å—è®°å½• - My Pamphlet Blog</title><link href=../../../assets/stylesheets/main.35e1ed30.min.css rel=stylesheet><link href=../../../assets/stylesheets/palette.356b1318.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../../css/timeago.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-web/style.css rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel=stylesheet><link href=../../../stylesheets/my_scheme.css rel=stylesheet><link href=../../../stylesheets/custom.css rel=stylesheet><link href=../../../stylesheets/card.css rel=stylesheet><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-H7SV12D750"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-H7SV12D750",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-H7SV12D750",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><script>var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7a9cfe470ed52fa0c0940a58fede385c";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>html.glightbox-open{overflow:initial;height:100%}.gslide-title{user-select:text;margin-top:0}.gslide-desc{color:#666;user-select:text}.gslide-image img{background:#fff}.gscrollbar-fixer{padding-right:15px}.gdesc-inner{font-size:.75rem}body[data-md-color-scheme=slate] .gdesc-inner{background:var(--md-default-bg-color)}body[data-md-color-scheme=slate] .gslide-title,body[data-md-color-scheme=slate] .gslide-desc{color:var(--md-default-fg-color)}</style><script src=../../../assets/javascripts/glightbox.min.js></script><body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=sunset-glow dir=ltr><script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#_1> è·³è½¬è‡³ </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=é¡µçœ‰><a aria-label="My Pamphlet Blog" class="md-header__button md-logo" title="My Pamphlet Blog" data-md-component=logo href=../../..> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> My Pamphlet Blog </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> é‡æ–°ç¼–å†™è§†è§‰æ¨¡å—è®°å½• </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to dark mode" data-md-color-media="(prefers-color-scheme: light)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=sunset-glow id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg></label><input aria-label="Switch to light mode" data-md-color-media="(prefers-color-scheme: dark)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=sunset-glow-dark id=__palette_2 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg></label></form><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=æœç´¢ autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=æœç´¢ required spellcheck=false type=text><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav aria-label=æŸ¥æ‰¾ class=md-search__options><a class="md-search__icon md-icon" aria-label=åˆ†äº« data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=åˆ†äº«> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a><button class="md-search__icon md-icon" aria-label=æ¸…ç©ºå½“å‰å†…å®¹ tabindex=-1 title=æ¸…ç©ºå½“å‰å†…å®¹ type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a class=md-source data-md-component=source href=https://github.com/RonaldLN/MyPamphlet-Blog title=å‰å¾€ä»“åº“> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div> <div class=md-source__repository>RonaldLN/MyPamphlet-Blog</div> </a></div></nav></header><div class=md-container data-md-component=container><nav aria-label=æ ‡ç­¾ class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=../../..> Blog </a></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=å¯¼èˆªæ  data-md-level=0><label class=md-nav__title for=__drawer><a aria-label="My Pamphlet Blog" class="md-nav__button md-logo" title="My Pamphlet Blog" data-md-component=logo href=../../..> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg> </a> My Pamphlet Blog</label><div class=md-nav__source><a class=md-source data-md-component=source href=https://github.com/RonaldLN/MyPamphlet-Blog title=å‰å¾€ä»“åº“> <div class="md-source__icon md-icon"><svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div> <div class=md-source__repository>RonaldLN/MyPamphlet-Blog</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_1 type=checkbox> <label class=md-nav__link for=__nav_1 id=__nav_1_label><span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_1_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_1><span class="md-nav__icon md-icon"></span> Blog</label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active"><a class=md-nav__link href=../../..> <span class=md-ellipsis> Blog </span> </a><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_1_2 type=checkbox> <label class=md-nav__link for=__nav_1_2 id=__nav_1_2_label tabindex=0><span class=md-ellipsis> å½’æ¡£ </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=false aria-labelledby=__nav_1_2_label class=md-nav data-md-level=2><label class=md-nav__title for=__nav_1_2><span class="md-nav__icon md-icon"></span> å½’æ¡£</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../../archive/2025/> <span class=md-ellipsis> 2025 </span> </a><li class=md-nav__item><a class=md-nav__link href=../../../archive/2024/> <span class=md-ellipsis> 2024 </span> </a><li class=md-nav__item><a class=md-nav__link href=../../../archive/2023/> <span class=md-ellipsis> 2023 </span> </a></ul></nav><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_1_3 type=checkbox> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex=0><span class=md-ellipsis> åˆ†ç±» </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=false aria-labelledby=__nav_1_3_label class=md-nav data-md-level=2><label class=md-nav__title for=__nav_1_3><span class="md-nav__icon md-icon"></span> åˆ†ç±»</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../../category/records-of-trivia/> <span class=md-ellipsis> Records of Trivia </span> </a><li class=md-nav__item><a class=md-nav__link href=../../../category/configure-debug/> <span class=md-ellipsis> Configure & Debug </span> </a><li class=md-nav__item><a class=md-nav__link href=../../../category/chronicle-of-events/> <span class=md-ellipsis> Chronicle of Events </span> </a></ul></nav></ul></nav></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label=ç›®å½•><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> ç›®å½•</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#face_orientation_recognition> ç¼–å†™ face_orientation_recognition </a></ul></nav></div></div></div><script defer src=https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/javascripts/toc.js></script><link href=https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/fold_toc.css rel=stylesheet><div class="md-content md-content--post" data-md-component=content><div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class="md-sidebar__inner md-post"><nav class="md-nav md-nav--primary"><div class=md-post__back><div class="md-nav__title md-nav__container"><a class=md-nav__link href=../../..> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> å›åˆ°ä¸»é¡µ </span> </a></div></div><div class="md-post__authors md-typeset"><div class="md-profile md-post__profile"><span class="md-author md-author--long"> <img alt="Ronald Luo" src="https://avatars.githubusercontent.com/u/120019179?v=4"> </span><span class=md-profile__description> <strong>Ronald Luo</strong><br> I'm A Student </span></div></div><ul class="md-post__meta md-nav__list"><li class="md-nav__item md-nav__item--section"><div class=md-post__title><span class=md-ellipsis> å…ƒæ•°æ® </span></div> <nav class=md-nav><ul class=md-nav__list><li class=md-nav__item><div class=md-nav__link><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg><time datetime="2024-07-04 00:00:00" class=md-ellipsis>2024å¹´7æœˆ4æ—¥æ˜ŸæœŸå››</time></div><li class=md-nav__item><div class=md-nav__link><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg><span class=md-ellipsis> åˆ†ç±»äº <a href=../../../category/configure-debug/>Configure & Debug</a></span></div><li class=md-nav__item><div class=md-nav__link><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg><span class=md-ellipsis> éœ€è¦ 7 åˆ†é’Ÿé˜…è¯»æ—¶é—´ </span></div></ul></nav></ul></nav></div></div></div><article class="md-content__inner md-typeset"><h1 id=_1>é‡æ–°ç¼–å†™è§†è§‰æ¨¡å—è®°å½•<a title="Permanent link" class=headerlink href=#_1>Â¶</a></h1><div style=opacity:.7;margin-top:-15px;font-size:.75em><p><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8V2m6.78 1a.69.69 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38-2.5-2.5Z"/></svg></span> çº¦ 3412 ä¸ªå­— â€¢ <span class=twemoji><svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span> 265 è¡Œä»£ç </div><p>ç”±äºä»¥å‰çš„è§†è§‰éƒ¨åˆ†çš„ä»£ç çœ‹èµ·æ¥å¾ˆğŸ’©(æ„Ÿè§‰ä»£ç æ–‡ä»¶çš„ç»“æ„å¾ˆæ··ä¹±ï¼Œä¸å¤Ÿæ˜“è¯»)ï¼Œäºæ˜¯æ‰“ç®—é‡æ–°ç¼–å†™æ–°çš„ã€‚<p>æˆ‘å…ˆæ˜¯åˆ†åˆ«è¯¢é—®äº†chatgptå’Œcopilotå…³äºå¦‚ä½•åœ¨æ‘„åƒå¤´ä¸€ç›´ä¿æŒå¼€å¯çš„çŠ¶æ€ä¸‹ï¼Œåˆ‡æ¢ä½¿ç”¨ä¸åŒçš„åŠŸèƒ½<details class=example open><summary>å¯¹è¯è®°å½•</summary> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>ChatGPT</label><label for=__tabbed_1_2>Github Copilot</label></div><div class=tabbed-content><div class=tabbed-block><p>User:<p>i have a question, There is a competition where I need to keep the camera on all the time, but different stages require the use of the camera to complete different tasks. For example, the first stage requires gesture recognition, the second stage requires face pose estimation, and both stages also require object detection. I can implement all three functions mentioned above separately (meaning that i can only implement one function when camera turned on), but I would like to ask how to switch between using different functions while keeping the camera on? how should I organize my code?<p>Â <p>ChatGPT:<p>To switch between different functions (gesture recognition, face pose estimation, and object detection) while keeping the camera on, you can use a modular approach in your code. Here's a general strategy:<ol><li><p><strong>Initialize the Camera:</strong> Set up the camera to capture frames continuously.</p><li><p><strong>Create Functions for Each Task:</strong> Write separate functions for gesture recognition, face pose estimation, and object detection.</p><li><p><strong>Control Flow to Switch Between Tasks:</strong> Use a control mechanism (e.g., a state machine, a flag, or a command listener) to determine which function to call on each frame.</p><li><p><strong>Main Loop:</strong> In the main loop, capture frames and call the appropriate function based on the current task.</p></ol><p>Here's a simplified example in Python using OpenCV and a basic state machine:<div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1> 1</a></span>
<span class=normal><a href=#__codelineno-0-2> 2</a></span>
<span class=normal><a href=#__codelineno-0-3> 3</a></span>
<span class=normal><a href=#__codelineno-0-4> 4</a></span>
<span class=normal><a href=#__codelineno-0-5> 5</a></span>
<span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=kn>import</span><span class=w> </span><span class=nn>cv2</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=c1># Initialize the camera</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=n>cap</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>VideoCapture</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=c1># Define the functions for each task</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=k>def</span><span class=w> </span><span class=nf>gesture_recognition</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a>    <span class=c1># Implement gesture recognition here</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9></a>    <span class=k>pass</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10></a>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a><span class=k>def</span><span class=w> </span><span class=nf>face_pose_estimation</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a>    <span class=c1># Implement face pose estimation here</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a>    <span class=k>pass</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=k>def</span><span class=w> </span><span class=nf>object_detection</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a>    <span class=c1># Implement object detection here</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>    <span class=k>pass</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=c1># State to control which function to use</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=n>current_task</span> <span class=o>=</span> <span class=s2>"gesture_recognition"</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=c1># Main loop</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>while</span> <span class=n>cap</span><span class=o>.</span><span class=n>isOpened</span><span class=p>():</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=n>ret</span><span class=p>,</span> <span class=n>frame</span> <span class=o>=</span> <span class=n>cap</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>ret</span><span class=p>:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>        <span class=k>break</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=k>if</span> <span class=n>current_task</span> <span class=o>==</span> <span class=s2>"gesture_recognition"</span><span class=p>:</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>        <span class=n>gesture_recognition</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=k>elif</span> <span class=n>current_task</span> <span class=o>==</span> <span class=s2>"face_pose_estimation"</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>        <span class=n>face_pose_estimation</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=k>elif</span> <span class=n>current_task</span> <span class=o>==</span> <span class=s2>"object_detection"</span><span class=p>:</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>        <span class=n>object_detection</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=c1># Display the frame</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s1>'Frame'</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=c1># Check for user input to switch tasks</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=n>key</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&</span> <span class=mh>0xFF</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=k>if</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>'g'</span><span class=p>):</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>        <span class=n>current_task</span> <span class=o>=</span> <span class=s2>"gesture_recognition"</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=k>elif</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>'f'</span><span class=p>):</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>        <span class=n>current_task</span> <span class=o>=</span> <span class=s2>"face_pose_estimation"</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=k>elif</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>'o'</span><span class=p>):</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>        <span class=n>current_task</span> <span class=o>=</span> <span class=s2>"object_detection"</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=k>elif</span> <span class=n>key</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>'q'</span><span class=p>):</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>        <span class=k>break</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=c1># Release the camera and close windows</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=n>cap</span><span class=o>.</span><span class=n>release</span><span class=p>()</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=n>cv2</span><span class=o>.</span><span class=n>destroyAllWindows</span><span class=p>()</span>
</span></code></pre></div></table></div><p><h3>Explanation:</h3><ol><li><p><strong>Initialize the Camera:</strong></p> <ul><li><code>cap = cv2.VideoCapture(0)</code> initializes the camera.</ul><li><p><strong>Define Functions:</strong></p> <ul><li><code>gesture_recognition</code>, <code>face_pose_estimation</code>, and <code>object_detection</code> are placeholders for your actual implementation.</ul><li><p><strong>Control Flow:</strong></p> <ul><li><code>current_task</code> is a variable that controls which function to call.<li>User input (<code>cv2.waitKey</code>) switches between tasks.</ul><li><p><strong>Main Loop:</strong></p> <ul><li>Continuously captures frames.<li>Calls the appropriate function based on the current task.<li>Displays the frame and listens for user input to switch tasks.</ul></ol><p>This approach ensures that the camera remains on and the system can switch between different tasks based on the control flow. You can modify the control mechanism to suit the specific requirements of your competition.</div><div class=tabbed-block><p>RonaldLN:<p>i have a question, There is a competition where I need to keep the camera on all the time, but different stages require the use of the camera to complete different tasks. For example, the first stage requires gesture recognition, the second stage requires face pose estimation, and both stages also require object detection. I can implement all three functions mentioned above separately (meaning that i can only implement one function when camera turned on), but I would like to ask how to switch between using different functions while keeping the camera on? how should I organize my code?<p>Â <p>GitHub Copilot:<p>è¦åœ¨ä¿æŒæ‘„åƒå¤´å¼€å¯çš„æƒ…å†µä¸‹åˆ‡æ¢ä¸åŒçš„åŠŸèƒ½ï¼ˆå¦‚æ‰‹åŠ¿è¯†åˆ«ã€é¢éƒ¨å§¿æ€ä¼°è®¡å’Œç‰©ä½“æ£€æµ‹ï¼‰ï¼Œä½ å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ­¥éª¤ç»„ç»‡ä½ çš„ä»£ç ï¼š<ol><li><strong>åˆå§‹åŒ–æ‘„åƒå¤´</strong>ï¼šé¦–å…ˆï¼Œåˆå§‹åŒ–æ‘„åƒå¤´ï¼Œç¡®ä¿å®ƒåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ä¿æŒå¼€å¯çŠ¶æ€ã€‚<li><strong>å®šä¹‰åŠŸèƒ½æ¨¡å—</strong>ï¼šä¸ºæ‰‹åŠ¿è¯†åˆ«ã€é¢éƒ¨å§¿æ€ä¼°è®¡å’Œç‰©ä½“æ£€æµ‹å„å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–ç±»ã€‚è¿™æ ·å¯ä»¥åœ¨éœ€è¦æ—¶è°ƒç”¨ç›¸åº”çš„åŠŸèƒ½ã€‚<li><strong>åˆ›å»ºåŠŸèƒ½åˆ‡æ¢é€»è¾‘</strong>ï¼šæ ¹æ®æ¯”èµ›çš„é˜¶æ®µæˆ–ç”¨æˆ·çš„è¾“å…¥ï¼Œå†³å®šä½•æ—¶åˆ‡æ¢åˆ°ä¸åŒçš„åŠŸèƒ½ã€‚è¿™å¯èƒ½æ¶‰åŠåˆ°ç›‘å¬æŸç§ä¿¡å·æˆ–æ£€æŸ¥æŸä¸ªæ¡ä»¶ã€‚<li><strong>å¾ªç¯æ•è·å¸§</strong>ï¼šåœ¨ä¸€ä¸ªå¾ªç¯ä¸­ä¸æ–­ä»æ‘„åƒå¤´æ•è·å¸§ï¼Œå¹¶æ ¹æ®å½“å‰çš„åŠŸèƒ½éœ€æ±‚ï¼Œå°†æ•è·çš„å¸§ä¼ é€’ç»™ç›¸åº”çš„åŠŸèƒ½æ¨¡å—å¤„ç†ã€‚<li><strong>å¤„ç†ç»“æœ</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—å¤„ç†å®Œå¸§ä¹‹åï¼Œæ ¹æ®éœ€è¦è¿›è¡Œç»“æœçš„æ˜¾ç¤ºã€å­˜å‚¨æˆ–è¿›ä¸€æ­¥å¤„ç†ã€‚</ol><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„ä¼ªä»£ç ç¤ºä¾‹ï¼š<div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1> 1</a></span>
<span class=normal><a href=#__codelineno-1-2> 2</a></span>
<span class=normal><a href=#__codelineno-1-3> 3</a></span>
<span class=normal><a href=#__codelineno-1-4> 4</a></span>
<span class=normal><a href=#__codelineno-1-5> 5</a></span>
<span class=normal><a href=#__codelineno-1-6> 6</a></span>
<span class=normal><a href=#__codelineno-1-7> 7</a></span>
<span class=normal><a href=#__codelineno-1-8> 8</a></span>
<span class=normal><a href=#__codelineno-1-9> 9</a></span>
<span class=normal><a href=#__codelineno-1-10>10</a></span>
<span class=normal><a href=#__codelineno-1-11>11</a></span>
<span class=normal><a href=#__codelineno-1-12>12</a></span>
<span class=normal><a href=#__codelineno-1-13>13</a></span>
<span class=normal><a href=#__codelineno-1-14>14</a></span>
<span class=normal><a href=#__codelineno-1-15>15</a></span>
<span class=normal><a href=#__codelineno-1-16>16</a></span>
<span class=normal><a href=#__codelineno-1-17>17</a></span>
<span class=normal><a href=#__codelineno-1-18>18</a></span>
<span class=normal><a href=#__codelineno-1-19>19</a></span>
<span class=normal><a href=#__codelineno-1-20>20</a></span>
<span class=normal><a href=#__codelineno-1-21>21</a></span>
<span class=normal><a href=#__codelineno-1-22>22</a></span>
<span class=normal><a href=#__codelineno-1-23>23</a></span>
<span class=normal><a href=#__codelineno-1-24>24</a></span>
<span class=normal><a href=#__codelineno-1-25>25</a></span>
<span class=normal><a href=#__codelineno-1-26>26</a></span>
<span class=normal><a href=#__codelineno-1-27>27</a></span>
<span class=normal><a href=#__codelineno-1-28>28</a></span>
<span class=normal><a href=#__codelineno-1-29>29</a></span>
<span class=normal><a href=#__codelineno-1-30>30</a></span>
<span class=normal><a href=#__codelineno-1-31>31</a></span>
<span class=normal><a href=#__codelineno-1-32>32</a></span>
<span class=normal><a href=#__codelineno-1-33>33</a></span>
<span class=normal><a href=#__codelineno-1-34>34</a></span>
<span class=normal><a href=#__codelineno-1-35>35</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a><span class=k>def</span><span class=w> </span><span class=nf>init_camera</span><span class=p>():</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2></a>    <span class=c1># åˆå§‹åŒ–æ‘„åƒå¤´</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3></a>    <span class=k>pass</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5></a><span class=k>def</span><span class=w> </span><span class=nf>gesture_recognition</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6></a>    <span class=c1># å¤„ç†å¸§è¿›è¡Œæ‰‹åŠ¿è¯†åˆ«</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7></a>    <span class=k>pass</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8></a>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9></a><span class=k>def</span><span class=w> </span><span class=nf>face_pose_estimation</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10></a>    <span class=c1># å¤„ç†å¸§è¿›è¡Œé¢éƒ¨å§¿æ€ä¼°è®¡</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11></a>    <span class=k>pass</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12></a>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13></a><span class=k>def</span><span class=w> </span><span class=nf>object_detection</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14></a>    <span class=c1># å¤„ç†å¸§è¿›è¡Œç‰©ä½“æ£€æµ‹</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15></a>    <span class=k>pass</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16></a>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17></a><span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18></a>    <span class=n>camera</span> <span class=o>=</span> <span class=n>init_camera</span><span class=p>()</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19></a>    <span class=n>current_stage</span> <span class=o>=</span> <span class=mi>1</span>  <span class=c1># å‡è®¾1ä¸ºæ‰‹åŠ¿è¯†åˆ«ï¼Œ2ä¸ºé¢éƒ¨å§¿æ€ä¼°è®¡ï¼Œ3ä¸ºç‰©ä½“æ£€æµ‹</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20></a>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22></a>        <span class=n>frame</span> <span class=o>=</span> <span class=n>camera</span><span class=o>.</span><span class=n>capture_frame</span><span class=p>()</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23></a>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24></a>        <span class=k>if</span> <span class=n>current_stage</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25></a>            <span class=n>gesture_recognition</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26></a>        <span class=k>elif</span> <span class=n>current_stage</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27></a>            <span class=n>face_pose_estimation</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28></a>        <span class=k>elif</span> <span class=n>current_stage</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29></a>            <span class=n>object_detection</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30></a>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31></a>        <span class=c1># æ ¹æ®æŸäº›æ¡ä»¶æ›´æ–°current_stageæ¥åˆ‡æ¢åŠŸèƒ½</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32></a>        <span class=c1># ä¾‹å¦‚ï¼ŒåŸºäºç”¨æˆ·è¾“å…¥æˆ–æ—¶é—´é™åˆ¶</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33></a>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>"__main__"</span><span class=p>:</span>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35></a>    <span class=n>main</span><span class=p>()</span>
</span></code></pre></div></table></div><p>è¿™ä¸ªç»“æ„å…è®¸ä½ åœ¨ä¸å…³é—­æ‘„åƒå¤´çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®æ¯”èµ›çš„ä¸åŒé˜¶æ®µæˆ–å…¶ä»–æ¡ä»¶ï¼Œçµæ´»åœ°åˆ‡æ¢ä¸åŒçš„å¤„ç†åŠŸèƒ½ã€‚</div></div></div></details><p>å‚è€ƒå®ƒä»¬ç»™å‡ºçš„å›ç­”ï¼Œæ‰“ç®—å°†æ¯ä¸ªåŠŸèƒ½å°è£…æˆä¸€ä¸ªå‡½æ•°æˆ–è€…ç±»ï¼Œåœ¨ä¸»å¾ªç¯ä¸­éœ€è¦å¼€å¯ä½¿ç”¨åŠŸèƒ½å°±æŠŠå½“å‰ä»æ‘„åƒå¤´è·å–åˆ°çš„å¸§ä¼ å…¥å…·ä½“çš„å‡½æ•°æˆ–è€…ç±»å³å¯ã€‚<hr><p>å¹¶ä¸”æ‰“ç®—å€ŸåŠ©gitçš„submoduleåŠŸèƒ½ï¼Œè®©ä»£ç çœ‹çš„æ›´æ¸…æ™°ä¸”æ›´å®¹æ˜“ç»´æŠ¤<p>äºæ˜¯å…ˆåˆ›å»ºäº† <code>vision</code> çš„ä»“åº“å¹¶cloneï¼Œç„¶ååˆ›å»ºäº† <code>face_orientation_recognition</code> å’Œ <code>face_identification</code> ä¸¤ä¸ªä»“åº“ï¼Œå†åœ¨ <code>vision</code> ä¸­æ·»åŠ submodule<div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a>git<span class=w> </span>submodule<span class=w> </span>add<span class=w> </span>face_orientation_recognition.git<span class=w> </span>src/scripts/face_orientation_recognition
</span></code></pre></div><div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>git<span class=w> </span>submodule<span class=w> </span>add<span class=w> </span>face_identification.git<span class=w> </span>src/scripts/face_identification
</span></code></pre></div><hr><p>è€Œç”±äºä¸æ˜¯å¾ˆæ¸…æ¥špythonçš„åŒ…ä¸­çš„æ–‡ä»¶ç»“æ„è¦å¦‚ä½•ç»„ç»‡æ‰èƒ½æ¯”è¾ƒæ¸…æ™°ï¼Œæ‰€ä»¥è¯¢é—®äº†ä¸€ä¸‹chatgpt<details class=example><summary>å¯¹è¯è®°å½•</summary> <p>User:</p> <p>åœ¨pythonè‡ªå·±åˆ›å»ºçš„åŒ…ä¸­ï¼Œä¸€èˆ¬moduleså’Œutils çš„å­æ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸çš„å«ä¹‰å’Œç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿ</p> <p>Â </p> <p>ChatGPT:</p> <p>åœ¨PythonåŒ…ä¸­ï¼Œ<code>modules</code>å’Œ<code>utils</code>å­æ–‡ä»¶å¤¹é€šå¸¸æœ‰ç‰¹å®šçš„ç”¨é€”å’Œå«ä¹‰ï¼Œå°½ç®¡å®ƒä»¬çš„ç¡®åˆ‡ç”¨é€”å¯èƒ½ä¼šå› é¡¹ç›®è€Œå¼‚ã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„ä¸€äº›å¸¸è§ç”¨é€”ï¼š</p> <p><h3><code>modules</code> æ–‡ä»¶å¤¹</h3> <ol><li><p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p> <ul><li><code>modules</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«å®ç°è½¯ä»¶æˆ–åº“çš„æ ¸å¿ƒåŠŸèƒ½çš„æ¨¡å—ã€‚è¿™äº›æ¨¡å—å¯ä»¥æ˜¯ä¸åŒçš„ç»„ä»¶æˆ–åŠŸèƒ½å•å…ƒï¼Œå®ƒä»¬ä¸€èµ·ç»„æˆäº†æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿã€‚</ul><li><p><strong>åˆ†ç¦»å…³æ³¨ç‚¹</strong>ï¼š</p> <ul><li>æ¯ä¸ªæ¨¡å—å¯èƒ½ä¸“æ³¨äºç‰¹å®šçš„åŠŸèƒ½æˆ–ä»»åŠ¡ï¼Œä¾‹å¦‚æ•°æ®å¤„ç†ã€ç½‘ç»œé€šä¿¡ã€ç”¨æˆ·è®¤è¯ç­‰ã€‚è¿™ç§åˆ†ç¦»æœ‰åŠ©äºæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚</ul><li><p><strong>å‘½åçº¦å®š</strong>ï¼š</p> <ul><li>è¿™ä¸ªæ–‡ä»¶å¤¹çš„åç§°â€œmodulesâ€å¹¶æ²¡æœ‰å¼ºåˆ¶æ€§çš„çº¦å®šï¼Œä½†å®ƒé€šå¸¸è¢«ç”¨æ¥è¡¨æ˜è¿™äº›æ–‡ä»¶æ˜¯ç¨‹åºçš„ä¸»è¦ç»„æˆéƒ¨åˆ†ã€‚</ul></ol> <p><h3><code>utils</code> æ–‡ä»¶å¤¹</h3> <ol><li><p><strong>å®ç”¨å·¥å…·</strong>ï¼š</p> <ul><li><code>utils</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«å„ç§å®ç”¨å·¥å…·å‡½æ•°æˆ–è¾…åŠ©å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸æ˜¯ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†åœ¨å¤šä¸ªåœ°æ–¹éƒ½å¯èƒ½ä¼šç”¨åˆ°ã€‚å®ƒä»¬é€šå¸¸æ˜¯ä¸€äº›é€šç”¨çš„ã€å¯ä»¥å¤ç”¨çš„ä»£ç ç‰‡æ®µã€‚</ul><li><p><strong>ä»£ç å¤ç”¨</strong>ï¼š</p> <ul><li>å°†å¸¸ç”¨çš„è¾…åŠ©å‡½æ•°æ”¾åœ¨<code>utils</code>æ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥é¿å…ä»£ç é‡å¤ï¼Œæé«˜ä»£ç å¤ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²å¤„ç†ã€æ—¥æœŸå¤„ç†ã€æ–‡ä»¶æ“ä½œç­‰é€šç”¨åŠŸèƒ½é€šå¸¸ä¼šæ”¾åœ¨è¿™é‡Œã€‚</ul><li><p><strong>ç»„ç»‡è¾…åŠ©ä»£ç </strong>ï¼š</p> <ul><li>è¿™ä¸ªæ–‡ä»¶å¤¹çš„å­˜åœ¨ä½¿å¾—ä¸»è¦æ¨¡å—çš„ä»£ç æ›´åŠ ç®€æ´ï¼Œå› ä¸ºè¾…åŠ©åŠŸèƒ½è¢«ç§»åˆ°äº†ä¸€ä¸ªç‹¬ç«‹çš„åœ°æ–¹ã€‚è¿™ä¹Ÿæœ‰åŠ©äºæ›´å¥½åœ°ç»„ç»‡ä»£ç ã€‚</ul></ol> <p><h3>å…·ä½“ä¾‹å­</h3> <p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º<code>my_package</code>çš„åŒ…ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¯èƒ½çš„æ–‡ä»¶å¤¹ç»“æ„ï¼š</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a>my_package/
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>â”œâ”€â”€ __init__.py
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>â”œâ”€â”€ modules/
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>â”‚   â”œâ”€â”€ data_processing.py
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>â”‚   â”œâ”€â”€ network.py
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>â”‚   â””â”€â”€ authentication.py
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>â””â”€â”€ utils/
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a>    â”œâ”€â”€ string_utils.py
</span><span id=__span-4-9><a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a>    â”œâ”€â”€ date_utils.py
</span><span id=__span-4-10><a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a>    â””â”€â”€ file_utils.py
</span></code></pre></div> <ul><li><code>data_processing.py</code>ã€<code>network.py</code>å’Œ<code>authentication.py</code>å¯èƒ½åŒ…å«å¤„ç†æ•°æ®ã€ç½‘ç»œé€šä¿¡å’Œç”¨æˆ·è®¤è¯çš„æ ¸å¿ƒä»£ç ã€‚<li><code>string_utils.py</code>ã€<code>date_utils.py</code>å’Œ<code>file_utils.py</code>åŒ…å«å„ç§å­—ç¬¦ä¸²å¤„ç†ã€æ—¥æœŸå¤„ç†å’Œæ–‡ä»¶æ“ä½œçš„è¾…åŠ©å‡½æ•°ã€‚</ul> <p>è¿™ç§ç»“æ„æœ‰åŠ©äºä»£ç çš„æ¨¡å—åŒ–å’Œç»„ç»‡ï¼Œä½¿å¾—é¡¹ç›®æ›´å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚</p> <p>Â </p> <p>User:</p> <p>è¿˜æœ‰å“ªäº›å¸¸ç”¨å’Œå¸¸è§çš„å­æ–‡ä»¶å¤¹åå‘¢ï¼Ÿ</p> <p>Â </p> <p>ChatGPT:</p> <p>åœ¨Pythoné¡¹ç›®ä¸­ï¼Œè¿˜æœ‰ä¸€äº›å¸¸è§çš„å­æ–‡ä»¶å¤¹åç§°ï¼Œå®ƒä»¬é€šå¸¸ç”¨äºç‰¹å®šçš„ç”¨é€”æˆ–ç»„ç»‡ä»£ç ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å­æ–‡ä»¶å¤¹åç§°åŠå…¶ç”¨é€”ï¼š</p> <p><h3>å¸¸è§å­æ–‡ä»¶å¤¹åç§°åŠç”¨é€”</h3> <ol><li><p><strong><code>config</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾é…ç½®æ–‡ä»¶å’Œé…ç½®ç›¸å…³çš„ä»£ç ã€‚<li>ä¾‹å¦‚ï¼Œæ•°æ®åº“é…ç½®ã€APIå¯†é’¥ã€åº”ç”¨ç¨‹åºè®¾ç½®ç­‰ã€‚</ul><li><p><strong><code>tests</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œå…¶ä»–ç±»å‹çš„æµ‹è¯•ä»£ç ã€‚<li>é€šå¸¸åŒ…å«å„ç§æµ‹è¯•ç”¨ä¾‹æ¥ç¡®ä¿ä»£ç çš„æ­£ç¡®æ€§ã€‚</ul><li><p><strong><code>scripts</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾å„ç§è„šæœ¬æ–‡ä»¶ï¼Œè¿™äº›è„šæœ¬é€šå¸¸æ˜¯ç”¨æ¥æ‰§è¡Œä¸€äº›ç‰¹å®šä»»åŠ¡æˆ–æ“ä½œçš„ã€‚<li>ä¾‹å¦‚ï¼Œæ•°æ®è¿ç§»è„šæœ¬ã€è‡ªåŠ¨åŒ–è„šæœ¬ç­‰ã€‚</ul><li><p><strong><code>docs</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾é¡¹ç›®çš„æ–‡æ¡£å’Œè¯´æ˜æ–‡ä»¶ã€‚<li>ä¾‹å¦‚ï¼Œç”¨æˆ·æ‰‹å†Œã€APIæ–‡æ¡£ã€è®¾è®¡æ–‡æ¡£ç­‰ã€‚</ul><li><p><strong><code>examples</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾ç¤ºä¾‹ä»£ç å’Œç¤ºä¾‹åº”ç”¨ç¨‹åºã€‚<li>å¸®åŠ©ç”¨æˆ·äº†è§£å¦‚ä½•ä½¿ç”¨åº“æˆ–æ¡†æ¶ã€‚</ul><li><p><strong><code>data</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾æ•°æ®æ–‡ä»¶ï¼Œä¾‹å¦‚CSVæ–‡ä»¶ã€JSONæ–‡ä»¶ã€æ•°æ®åº“æ–‡ä»¶ç­‰ã€‚<li>å¸¸ç”¨äºæ•°æ®å¤„ç†å’Œæœºå™¨å­¦ä¹ é¡¹ç›®ã€‚</ul><li><p><strong><code>assets</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾é™æ€èµ„æºï¼Œä¾‹å¦‚å›¾ç‰‡ã€æ ·å¼è¡¨ã€JavaScriptæ–‡ä»¶ç­‰ã€‚<li>å¸¸ç”¨äºWebé¡¹ç›®ã€‚</ul><li><p><strong><code>models</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾æ•°æ®æ¨¡å‹ç›¸å…³çš„ä»£ç ã€‚<li>ä¾‹å¦‚ï¼ŒORMæ¨¡å‹ã€æœºå™¨å­¦ä¹ æ¨¡å‹ç­‰ã€‚</ul><li><p><strong><code>migrations</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾æ•°æ®åº“è¿ç§»æ–‡ä»¶ã€‚<li>å¸¸ç”¨äºDjangoã€Flaskç­‰ä½¿ç”¨ORMçš„Webæ¡†æ¶ã€‚</ul><li><p><strong><code>lib</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾å¤–éƒ¨åº“æˆ–ä¾èµ–é¡¹ã€‚<li>ä¾‹å¦‚ï¼Œè‡ªå®šä¹‰çš„ç¬¬ä¸‰æ–¹åº“æˆ–ä¾èµ–é¡¹ã€‚</ul><li><p><strong><code>bin</code></strong>ï¼š</p> <ul><li>ç”¨äºå­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶å’Œè„šæœ¬ã€‚<li>ä¾‹å¦‚ï¼Œå‘½ä»¤è¡Œå·¥å…·å’Œæ‰§è¡Œè„šæœ¬ã€‚</ul></ol> <p><h3>ç¤ºä¾‹é¡¹ç›®ç»“æ„</h3> <p>ä¸‹é¢æ˜¯ä¸€ä¸ªå‡è®¾çš„Pythoné¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>my_project/
</span><span id=__span-5-2><a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a>â”œâ”€â”€ config/
</span><span id=__span-5-3><a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>â”‚   â”œâ”€â”€ settings.py
</span><span id=__span-5-4><a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a>â”‚   â””â”€â”€ secrets.py
</span><span id=__span-5-5><a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a>â”œâ”€â”€ data/
</span><span id=__span-5-6><a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a>â”‚   â”œâ”€â”€ input_data.csv
</span><span id=__span-5-7><a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a>â”‚   â””â”€â”€ processed_data.json
</span><span id=__span-5-8><a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a>â”œâ”€â”€ docs/
</span><span id=__span-5-9><a href=#__codelineno-5-9 id=__codelineno-5-9 name=__codelineno-5-9></a>â”‚   â”œâ”€â”€ README.md
</span><span id=__span-5-10><a href=#__codelineno-5-10 id=__codelineno-5-10 name=__codelineno-5-10></a>â”‚   â””â”€â”€ API.md
</span><span id=__span-5-11><a href=#__codelineno-5-11 id=__codelineno-5-11 name=__codelineno-5-11></a>â”œâ”€â”€ examples/
</span><span id=__span-5-12><a href=#__codelineno-5-12 id=__codelineno-5-12 name=__codelineno-5-12></a>â”‚   â”œâ”€â”€ example1.py
</span><span id=__span-5-13><a href=#__codelineno-5-13 id=__codelineno-5-13 name=__codelineno-5-13></a>â”‚   â””â”€â”€ example2.py
</span><span id=__span-5-14><a href=#__codelineno-5-14 id=__codelineno-5-14 name=__codelineno-5-14></a>â”œâ”€â”€ lib/
</span><span id=__span-5-15><a href=#__codelineno-5-15 id=__codelineno-5-15 name=__codelineno-5-15></a>â”‚   â””â”€â”€ custom_library.py
</span><span id=__span-5-16><a href=#__codelineno-5-16 id=__codelineno-5-16 name=__codelineno-5-16></a>â”œâ”€â”€ models/
</span><span id=__span-5-17><a href=#__codelineno-5-17 id=__codelineno-5-17 name=__codelineno-5-17></a>â”‚   â”œâ”€â”€ user_model.py
</span><span id=__span-5-18><a href=#__codelineno-5-18 id=__codelineno-5-18 name=__codelineno-5-18></a>â”‚   â””â”€â”€ product_model.py
</span><span id=__span-5-19><a href=#__codelineno-5-19 id=__codelineno-5-19 name=__codelineno-5-19></a>â”œâ”€â”€ modules/
</span><span id=__span-5-20><a href=#__codelineno-5-20 id=__codelineno-5-20 name=__codelineno-5-20></a>â”‚   â”œâ”€â”€ data_processing.py
</span><span id=__span-5-21><a href=#__codelineno-5-21 id=__codelineno-5-21 name=__codelineno-5-21></a>â”‚   â”œâ”€â”€ network.py
</span><span id=__span-5-22><a href=#__codelineno-5-22 id=__codelineno-5-22 name=__codelineno-5-22></a>â”‚   â””â”€â”€ authentication.py
</span><span id=__span-5-23><a href=#__codelineno-5-23 id=__codelineno-5-23 name=__codelineno-5-23></a>â”œâ”€â”€ scripts/
</span><span id=__span-5-24><a href=#__codelineno-5-24 id=__codelineno-5-24 name=__codelineno-5-24></a>â”‚   â”œâ”€â”€ migrate_data.py
</span><span id=__span-5-25><a href=#__codelineno-5-25 id=__codelineno-5-25 name=__codelineno-5-25></a>â”‚   â””â”€â”€ cleanup.py
</span><span id=__span-5-26><a href=#__codelineno-5-26 id=__codelineno-5-26 name=__codelineno-5-26></a>â”œâ”€â”€ tests/
</span><span id=__span-5-27><a href=#__codelineno-5-27 id=__codelineno-5-27 name=__codelineno-5-27></a>â”‚   â”œâ”€â”€ test_data_processing.py
</span><span id=__span-5-28><a href=#__codelineno-5-28 id=__codelineno-5-28 name=__codelineno-5-28></a>â”‚   â”œâ”€â”€ test_network.py
</span><span id=__span-5-29><a href=#__codelineno-5-29 id=__codelineno-5-29 name=__codelineno-5-29></a>â”‚   â””â”€â”€ test_authentication.py
</span><span id=__span-5-30><a href=#__codelineno-5-30 id=__codelineno-5-30 name=__codelineno-5-30></a>â””â”€â”€ utils/
</span><span id=__span-5-31><a href=#__codelineno-5-31 id=__codelineno-5-31 name=__codelineno-5-31></a>    â”œâ”€â”€ string_utils.py
</span><span id=__span-5-32><a href=#__codelineno-5-32 id=__codelineno-5-32 name=__codelineno-5-32></a>    â”œâ”€â”€ date_utils.py
</span><span id=__span-5-33><a href=#__codelineno-5-33 id=__codelineno-5-33 name=__codelineno-5-33></a>    â””â”€â”€ file_utils.py
</span></code></pre></div> <p>è¿™ç§ç»“æ„æ¸…æ™°åœ°ç»„ç»‡äº†é¡¹ç›®çš„å„ä¸ªéƒ¨åˆ†ï¼Œä½¿å¾—é¡¹ç›®æ˜“äºå¯¼èˆªå’Œç»´æŠ¤ã€‚ä¸åŒçš„æ–‡ä»¶å¤¹æ ¹æ®å…¶ç”¨é€”åˆ†ç±»ï¼Œä½¿å¾—ä»£ç ç®¡ç†æ›´åŠ é«˜æ•ˆã€‚</p> <p>Â </p> <p>User:</p> <p>lib , models, modules, scripts, utils, config è¿™å‡ ä¸ªä¹‹é—´çš„åŒºåˆ«ï¼Œä½ èƒ½å†è¯¦ç»†è¯´ä¸€ä¸‹å—ï¼Ÿ</p> <p>Â </p> <p>ChatGPT:</p> <p>å½“ç„¶ï¼Œä»¥ä¸‹æ˜¯å¯¹ <code>lib</code>ã€<code>models</code>ã€<code>modules</code>ã€<code>scripts</code>ã€<code>utils</code> å’Œ <code>config</code> è¿™å‡ ä¸ªæ–‡ä»¶å¤¹ä¹‹é—´çš„è¯¦ç»†åŒºåˆ«å’Œç”¨é€”è§£é‡Šï¼š</p> <p><h3><code>lib</code></h3> <p><strong>ç”¨é€”</strong>ï¼š - ç”¨äºå­˜æ”¾å¤–éƒ¨åº“æˆ–è‡ªå®šä¹‰çš„åº“æ–‡ä»¶ã€‚è¿™äº›åº“æ–‡ä»¶å¯èƒ½æ˜¯ä»å¤–éƒ¨å¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¹Ÿå¯èƒ½æ˜¯é¡¹ç›®ä¸­è‡ªå®šä¹‰çš„ã€å¯å¤ç”¨çš„ä»£ç æ¨¡å—ã€‚</p> <p><strong>å…¸å‹å†…å®¹</strong>ï¼š - ç¬¬ä¸‰æ–¹åº“çš„åŒ…è£…å™¨ - è‡ªå®šä¹‰çš„å·¥å…·åº“ - ä¸ä¾èµ–äºé¡¹ç›®å…·ä½“ä¸šåŠ¡é€»è¾‘çš„é€šç”¨åº“</p> <p><strong>ç¤ºä¾‹</strong>ï¼š<div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a><span class=n>lib</span><span class=o>/</span>
</span><span id=__span-6-2><a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a><span class=err>â”œâ”€â”€</span> <span class=n>custom_library</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-6-3><a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a><span class=err>â””â”€â”€</span> <span class=n>third_party_wrapper</span><span class=o>.</span><span class=n>py</span>
</span></code></pre></div> <p><h3><code>models</code></h3> <p><strong>ç”¨é€”</strong>ï¼š - ç”¨äºå­˜æ”¾æ•°æ®æ¨¡å‹ç›¸å…³çš„ä»£ç ã€‚è¿™äº›æ¨¡å‹é€šå¸¸è¡¨ç¤ºé¡¹ç›®ä¸­ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚æ•°æ®åº“è¡¨ã€æœºå™¨å­¦ä¹ æ¨¡å‹ç­‰ã€‚</p> <p><strong>å…¸å‹å†…å®¹</strong>ï¼š - ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¨¡å‹ï¼ˆå¦‚Djangoæˆ–SQLAlchemyçš„æ¨¡å‹ï¼‰ - æœºå™¨å­¦ä¹ æ¨¡å‹çš„å®šä¹‰å’Œè®­ç»ƒä»£ç  - æ•°æ®ç»“æ„å®šä¹‰</p> <p><strong>ç¤ºä¾‹</strong>ï¼š</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a><span class=n>models</span><span class=o>/</span>
</span><span id=__span-7-2><a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a><span class=err>â”œâ”€â”€</span> <span class=n>user_model</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-7-3><a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a><span class=err>â”œâ”€â”€</span> <span class=n>product_model</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-7-4><a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a><span class=err>â””â”€â”€</span> <span class=n>ml_model</span><span class=o>.</span><span class=n>py</span>
</span></code></pre></div> <p><h3><code>modules</code></h3> <p><strong>ç”¨é€”</strong>ï¼š - ç”¨äºå­˜æ”¾å®ç°è½¯ä»¶æˆ–åº“çš„æ ¸å¿ƒåŠŸèƒ½çš„æ¨¡å—ã€‚è¿™äº›æ¨¡å—æ˜¯é¡¹ç›®çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼ŒåŒ…å«ä¸»è¦çš„ä¸šåŠ¡é€»è¾‘å’ŒåŠŸèƒ½å®ç°ã€‚</p> <p><strong>å…¸å‹å†…å®¹</strong>ï¼š - å„ç§åŠŸèƒ½æ¨¡å—ï¼Œå¦‚æ•°æ®å¤„ç†ã€ç½‘ç»œé€šä¿¡ã€ç”¨æˆ·è®¤è¯ç­‰ - æ¯ä¸ªæ¨¡å—é€šå¸¸ä¸“æ³¨äºç‰¹å®šçš„åŠŸèƒ½æˆ–ä»»åŠ¡</p> <p><strong>ç¤ºä¾‹</strong>ï¼š</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=n>modules</span><span class=o>/</span>
</span><span id=__span-8-2><a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a><span class=err>â”œâ”€â”€</span> <span class=n>data_processing</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-8-3><a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=err>â”œâ”€â”€</span> <span class=n>network</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-8-4><a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=err>â””â”€â”€</span> <span class=n>authentication</span><span class=o>.</span><span class=n>py</span>
</span></code></pre></div> <p><h3><code>scripts</code></h3> <p><strong>ç”¨é€”</strong>ï¼š - ç”¨äºå­˜æ”¾å„ç§è„šæœ¬æ–‡ä»¶ï¼Œè¿™äº›è„šæœ¬é€šå¸¸æ˜¯ç”¨æ¥æ‰§è¡Œç‰¹å®šä»»åŠ¡æˆ–æ“ä½œçš„ï¼Œä¾‹å¦‚æ•°æ®è¿ç§»ã€è‡ªåŠ¨åŒ–ä»»åŠ¡ç­‰ã€‚</p> <p><strong>å…¸å‹å†…å®¹</strong>ï¼š - æ•°æ®è¿ç§»è„šæœ¬ - è‡ªåŠ¨åŒ–è„šæœ¬ - å¯åŠ¨å’Œéƒ¨ç½²è„šæœ¬</p> <p><strong>ç¤ºä¾‹</strong>ï¼š</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=n>scripts</span><span class=o>/</span>
</span><span id=__span-9-2><a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=err>â”œâ”€â”€</span> <span class=n>migrate_data</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-9-3><a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=err>â””â”€â”€</span> <span class=n>cleanup</span><span class=o>.</span><span class=n>py</span>
</span></code></pre></div> <p><h3><code>utils</code></h3> <p><strong>ç”¨é€”</strong>ï¼š - ç”¨äºå­˜æ”¾å„ç§å®ç”¨å·¥å…·å‡½æ•°æˆ–è¾…åŠ©å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸æ˜¯é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†åœ¨å¤šä¸ªåœ°æ–¹éƒ½å¯èƒ½ä¼šç”¨åˆ°ï¼Œæä¾›è¾…åŠ©æ”¯æŒã€‚</p> <p><strong>å…¸å‹å†…å®¹</strong>ï¼š - é€šç”¨çš„å·¥å…·å‡½æ•°ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²å¤„ç†ã€æ—¥æœŸå¤„ç†ã€æ–‡ä»¶æ“ä½œç­‰ - å¯ä»¥è¢«å¤šä¸ªæ¨¡å—å¤ç”¨çš„ä»£ç </p> <p><strong>ç¤ºä¾‹</strong>ï¼š</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a><span class=n>utils</span><span class=o>/</span>
</span><span id=__span-10-2><a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a><span class=err>â”œâ”€â”€</span> <span class=n>string_utils</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-10-3><a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a><span class=err>â”œâ”€â”€</span> <span class=n>date_utils</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-10-4><a href=#__codelineno-10-4 id=__codelineno-10-4 name=__codelineno-10-4></a><span class=err>â””â”€â”€</span> <span class=n>file_utils</span><span class=o>.</span><span class=n>py</span>
</span></code></pre></div> <p><h3><code>config</code></h3> <p><strong>ç”¨é€”</strong>ï¼š - ç”¨äºå­˜æ”¾é…ç½®æ–‡ä»¶å’Œé…ç½®ç›¸å…³çš„ä»£ç ã€‚è¿™äº›é…ç½®æ–‡ä»¶é€šå¸¸åŒ…å«é¡¹ç›®çš„å„ç§è®¾ç½®å’Œå‚æ•°ï¼Œä¾‹å¦‚æ•°æ®åº“é…ç½®ã€APIå¯†é’¥ç­‰ã€‚</p> <p><strong>å…¸å‹å†…å®¹</strong>ï¼š - åº”ç”¨ç¨‹åºè®¾ç½® - ç¯å¢ƒå˜é‡é…ç½® - å®‰å…¨å’Œæ•æ„Ÿä¿¡æ¯ï¼ˆé€šå¸¸éœ€è¦å®‰å…¨ç®¡ç†ï¼‰</p> <p><strong>ç¤ºä¾‹</strong>ï¼š</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a><span class=n>config</span><span class=o>/</span>
</span><span id=__span-11-2><a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a><span class=err>â”œâ”€â”€</span> <span class=n>settings</span><span class=o>.</span><span class=n>py</span>
</span><span id=__span-11-3><a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class=err>â””â”€â”€</span> <span class=n>secrets</span><span class=o>.</span><span class=n>py</span>
</span></code></pre></div> <p><h3>æ€»ç»“å¯¹æ¯”</h3> <ul><li><strong><code>lib</code></strong>ï¼šå¤–éƒ¨æˆ–è‡ªå®šä¹‰çš„åº“æ–‡ä»¶ï¼Œä¸ç‰¹å®šäºé¡¹ç›®çš„ä¸šåŠ¡é€»è¾‘ã€‚<li><strong><code>models</code></strong>ï¼šæ•°æ®æ¨¡å‹å®šä¹‰å’Œç›¸å…³ä»£ç ï¼Œè¡¨ç¤ºé¡¹ç›®ä¸­çš„æ•°æ®ç»“æ„ã€‚<li><strong><code>modules</code></strong>ï¼šæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼ŒåŒ…å«ä¸»è¦ä¸šåŠ¡é€»è¾‘ã€‚<li><strong><code>scripts</code></strong>ï¼šæ‰§è¡Œç‰¹å®šä»»åŠ¡æˆ–æ“ä½œçš„è„šæœ¬æ–‡ä»¶ã€‚<li><strong><code>utils</code></strong>ï¼šé€šç”¨å·¥å…·å‡½æ•°å’Œè¾…åŠ©å‡½æ•°ï¼Œæä¾›æ”¯æŒå’Œå¤ç”¨ã€‚<li><strong><code>config</code></strong>ï¼šé…ç½®æ–‡ä»¶å’Œç›¸å…³ä»£ç ï¼Œç®¡ç†é¡¹ç›®è®¾ç½®å’Œå‚æ•°ã€‚</ul> <p>è¿™ç§åˆ†ç±»å’Œç»„ç»‡æ–¹å¼æœ‰åŠ©äºä¿æŒé¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p></details><hr><h2 id=face_orientation_recognition>ç¼–å†™ <code>face_orientation_recognition</code><a title="Permanent link" class=headerlink href=#face_orientation_recognition>Â¶</a></h2><p>äºæ˜¯å°† <code>head-pose-estimation</code> ä¸­çš„ <code>face_detection.py</code> <code>mark_detection.py</code> <code>pose_estimation.py</code> ç§»åŠ¨åˆ° <code>face_orientation_recognition/modules/</code> ä¸‹ï¼Œ<code>utils.py</code> <code>assets/</code> ç§»åŠ¨åˆ° <code>face_orientation_recognition/</code> ä¸‹<p>å‚ç…§ <code>main.py</code> ï¼Œåœ¨ <code>face_orientation_recognition/</code> ä¸‹ç¼–å†™ <code>orientation_recognition.py</code><div class="language-python highlight"><span class=filename>orientation_recognition.py</span><pre><span></span><code><span id=__span-12-1><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a><span class=kn>import</span><span class=w> </span><span class=nn>cv2</span>
</span><span id=__span-12-2><a href=#__codelineno-12-2 id=__codelineno-12-2 name=__codelineno-12-2></a><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
</span><span id=__span-12-3><a href=#__codelineno-12-3 id=__codelineno-12-3 name=__codelineno-12-3></a>
</span><span id=__span-12-4><a href=#__codelineno-12-4 id=__codelineno-12-4 name=__codelineno-12-4></a><span class=kn>from</span><span class=w> </span><span class=nn>modules.face_detection</span><span class=w> </span><span class=kn>import</span> <span class=n>FaceDetector</span>
</span><span id=__span-12-5><a href=#__codelineno-12-5 id=__codelineno-12-5 name=__codelineno-12-5></a><span class=kn>from</span><span class=w> </span><span class=nn>modules.mark_detection</span><span class=w> </span><span class=kn>import</span> <span class=n>MarkDetector</span>
</span><span id=__span-12-6><a href=#__codelineno-12-6 id=__codelineno-12-6 name=__codelineno-12-6></a><span class=kn>from</span><span class=w> </span><span class=nn>modules.pose_estimation</span><span class=w> </span><span class=kn>import</span> <span class=n>PoseEstimator</span>
</span><span id=__span-12-7><a href=#__codelineno-12-7 id=__codelineno-12-7 name=__codelineno-12-7></a><span class=kn>from</span><span class=w> </span><span class=nn>utils</span><span class=w> </span><span class=kn>import</span> <span class=n>refine</span>
</span><span id=__span-12-8><a href=#__codelineno-12-8 id=__codelineno-12-8 name=__codelineno-12-8></a>
</span><span id=__span-12-9><a href=#__codelineno-12-9 id=__codelineno-12-9 name=__codelineno-12-9></a>
</span><span id=__span-12-10><a href=#__codelineno-12-10 id=__codelineno-12-10 name=__codelineno-12-10></a><span class=k>class</span><span class=w> </span><span class=nc>OrientationRecognizer</span><span class=p>:</span>
</span><span id=__span-12-11><a href=#__codelineno-12-11 id=__codelineno-12-11 name=__codelineno-12-11></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>frame_width</span><span class=p>,</span> <span class=n>frame_height</span><span class=p>):</span>
</span><span id=__span-12-12><a href=#__codelineno-12-12 id=__codelineno-12-12 name=__codelineno-12-12></a>        <span class=o>...</span>
</span><span id=__span-12-13><a href=#__codelineno-12-13 id=__codelineno-12-13 name=__codelineno-12-13></a>
</span><span id=__span-12-14><a href=#__codelineno-12-14 id=__codelineno-12-14 name=__codelineno-12-14></a>    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>frame</span><span class=p>):</span>
</span><span id=__span-12-15><a href=#__codelineno-12-15 id=__codelineno-12-15 name=__codelineno-12-15></a>        <span class=o>...</span>
</span><span id=__span-12-16><a href=#__codelineno-12-16 id=__codelineno-12-16 name=__codelineno-12-16></a>
</span><span id=__span-12-17><a href=#__codelineno-12-17 id=__codelineno-12-17 name=__codelineno-12-17></a>
</span><span id=__span-12-18><a href=#__codelineno-12-18 id=__codelineno-12-18 name=__codelineno-12-18></a><span class=k>def</span><span class=w> </span><span class=nf>get_orientation_angle</span><span class=p>(</span><span class=n>pose</span><span class=p>):</span>
</span><span id=__span-12-19><a href=#__codelineno-12-19 id=__codelineno-12-19 name=__codelineno-12-19></a>    <span class=o>...</span>
</span><span id=__span-12-20><a href=#__codelineno-12-20 id=__codelineno-12-20 name=__codelineno-12-20></a>
</span><span id=__span-12-21><a href=#__codelineno-12-21 id=__codelineno-12-21 name=__codelineno-12-21></a><span class=k>def</span><span class=w> </span><span class=nf>get_adjustment</span><span class=p>(</span><span class=n>angle</span><span class=p>):</span>
</span><span id=__span-12-22><a href=#__codelineno-12-22 id=__codelineno-12-22 name=__codelineno-12-22></a>    <span class=o>...</span>
</span></code></pre></div><p>ç„¶ååœ¨ <code>vision/</code> ä¸‹æµ‹è¯•ä½¿ç”¨è¿™ä¸ªåŒ…<div class="language-python highlight"><table class=highlighttable><tr><th class=filename colspan=2><span class=filename>vision/test.py</span><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1> 1</a></span>
<span class=normal><a href=#__codelineno-13-2> 2</a></span>
<span class=normal><a href=#__codelineno-13-3> 3</a></span>
<span class=normal><a href=#__codelineno-13-4> 4</a></span>
<span class=normal><a href=#__codelineno-13-5> 5</a></span>
<span class=normal><a href=#__codelineno-13-6> 6</a></span>
<span class=normal><a href=#__codelineno-13-7> 7</a></span>
<span class=normal><a href=#__codelineno-13-8> 8</a></span>
<span class=normal><a href=#__codelineno-13-9> 9</a></span>
<span class=normal><a href=#__codelineno-13-10>10</a></span>
<span class=normal><a href=#__codelineno-13-11>11</a></span>
<span class=normal><a href=#__codelineno-13-12>12</a></span>
<span class=normal><a href=#__codelineno-13-13>13</a></span>
<span class=normal><a href=#__codelineno-13-14>14</a></span>
<span class=normal><a href=#__codelineno-13-15>15</a></span>
<span class=normal><a href=#__codelineno-13-16>16</a></span>
<span class=normal><a href=#__codelineno-13-17>17</a></span>
<span class=normal><a href=#__codelineno-13-18>18</a></span>
<span class=normal><a href=#__codelineno-13-19>19</a></span>
<span class=normal><a href=#__codelineno-13-20>20</a></span>
<span class=normal><a href=#__codelineno-13-21>21</a></span>
<span class=normal><a href=#__codelineno-13-22>22</a></span>
<span class=normal><a href=#__codelineno-13-23>23</a></span>
<span class=normal><a href=#__codelineno-13-24>24</a></span>
<span class=normal><a href=#__codelineno-13-25>25</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a><span class=kn>import</span><span class=w> </span><span class=nn>cv2</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a><span class=kn>from</span><span class=w> </span><span class=nn>face_orientation_recognition.face_orientation</span><span class=w> </span><span class=kn>import</span> <span class=n>OrientationRecognizer</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a><span class=n>cap</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>VideoCapture</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5></a>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6></a><span class=n>frame_width</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>cap</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>cv2</span><span class=o>.</span><span class=n>CAP_PROP_FRAME_WIDTH</span><span class=p>))</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7></a><span class=n>frame_height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>cap</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>cv2</span><span class=o>.</span><span class=n>CAP_PROP_FRAME_HEIGHT</span><span class=p>))</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8></a>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9></a><span class=n>estimator</span> <span class=o>=</span> <span class=n>OrientationRecognizer</span><span class=p>(</span><span class=n>frame_width</span><span class=p>,</span> <span class=n>frame_height</span><span class=p>)</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10></a>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11></a><span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12></a>    <span class=n>ret</span><span class=p>,</span> <span class=n>frame</span> <span class=o>=</span> <span class=n>cap</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>ret</span><span class=p>:</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14></a>        <span class=k>break</span>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15></a>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16></a>    <span class=n>has_face</span><span class=p>,</span> <span class=n>estimated_frame</span><span class=p>,</span> <span class=n>angle</span><span class=p>,</span> <span class=n>adjustment</span> <span class=o>=</span> <span class=n>estimator</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17></a>
</span><span id=__span-13-18><a id=__codelineno-13-18 name=__codelineno-13-18></a>    <span class=k>if</span> <span class=n>has_face</span><span class=p>:</span>
</span><span id=__span-13-19><a id=__codelineno-13-19 name=__codelineno-13-19></a>        <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s1>'frame'</span><span class=p>,</span> <span class=n>estimated_frame</span><span class=p>)</span>
</span><span id=__span-13-20><a id=__codelineno-13-20 name=__codelineno-13-20></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'angle: </span><span class=si>{</span><span class=n>angle</span><span class=si>}</span><span class=s1>, adjustment: </span><span class=si>{</span><span class=n>adjustment</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span><span id=__span-13-21><a id=__codelineno-13-21 name=__codelineno-13-21></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-13-22><a id=__codelineno-13-22 name=__codelineno-13-22></a>        <span class=n>cv2</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=s1>'frame'</span><span class=p>,</span> <span class=n>frame</span><span class=p>)</span>
</span><span id=__span-13-23><a id=__codelineno-13-23 name=__codelineno-13-23></a>
</span><span id=__span-13-24><a id=__codelineno-13-24 name=__codelineno-13-24></a>    <span class=k>if</span> <span class=n>cv2</span><span class=o>.</span><span class=n>waitKey</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&</span> <span class=mh>0xFF</span> <span class=o>==</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>'q'</span><span class=p>):</span>
</span><span id=__span-13-25><a id=__codelineno-13-25 name=__codelineno-13-25></a>        <span class=k>break</span>
</span></code></pre></div></table></div><p>å‡ºç°äº†æŠ¥é”™<div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a>Traceback<span class=w> </span><span class=o>(</span>most<span class=w> </span>recent<span class=w> </span>call<span class=w> </span>last<span class=o>)</span>:
</span><span id=__span-14-2><a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a><span class=w>  </span>File<span class=w> </span><span class=s2>"c:\Github\vision\src\scripts\test.py"</span>,<span class=w> </span>line<span class=w> </span><span class=m>2</span>,<span class=w> </span><span class=k>in</span><span class=w> </span>&lt;module>
</span><span id=__span-14-3><a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a><span class=w>    </span>from<span class=w> </span>face_orientation_recognition.face_orientation<span class=w> </span>import<span class=w> </span>OrientationRecognizer
</span><span id=__span-14-4><a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a><span class=w>  </span>File<span class=w> </span><span class=s2>"c:\Github\vision\src\scripts\face_orientation_recognition\face_orientation.py"</span>,<span class=w> </span>line<span class=w> </span><span class=m>10</span>,<span class=w> </span><span class=k>in</span><span class=w> </span>&lt;module>
</span><span id=__span-14-5><a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a><span class=w>    </span>from<span class=w> </span>modules.face_detection<span class=w> </span>import<span class=w> </span>FaceDetector
</span><span id=__span-14-6><a href=#__codelineno-14-6 id=__codelineno-14-6 name=__codelineno-14-6></a>ModuleNotFoundError:<span class=w> </span>No<span class=w> </span>module<span class=w> </span>named<span class=w> </span><span class=s1>'modules'</span>
</span></code></pre></div><p>å‘ç°æ˜¯éœ€è¦ä½¿ç”¨<strong>ç›¸å¯¹å¯¼å…¥</strong><blockquote><p>æˆ‘å‚è€ƒäº†yolov8ä¸­çš„ä»£ç <p><a href=https://github.com/ultralytics/ultralytics/blob/5d479c73c2933fa5020632e1b2d5b77220dce156/ultralytics/trackers/byte_tracker.py>ultralytics/ultralytics/trackers/byte_tracker.py at 5d479c73c2933fa5020632e1b2d5b77220dce156 Â· ultralytics/ultralytics (github.com)</a><div class="language-python highlight"><span class=filename>byte_tracker.py</span><pre><span></span><code><span id=__span-15-1><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a><span class=c1># Ultralytics YOLO ğŸš€, AGPL-3.0 license</span>
</span><span id=__span-15-2><a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a>
</span><span id=__span-15-3><a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
</span><span id=__span-15-4><a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a>
</span><span id=__span-15-5><a href=#__codelineno-15-5 id=__codelineno-15-5 name=__codelineno-15-5></a><span class=kn>from</span><span class=w> </span><span class=nn>..utils</span><span class=w> </span><span class=kn>import</span> <span class=n>LOGGER</span>
</span><span id=__span-15-6><a href=#__codelineno-15-6 id=__codelineno-15-6 name=__codelineno-15-6></a><span class=kn>from</span><span class=w> </span><span class=nn>..utils.ops</span><span class=w> </span><span class=kn>import</span> <span class=n>xywh2ltwh</span>
</span><span id=__span-15-7><a href=#__codelineno-15-7 id=__codelineno-15-7 name=__codelineno-15-7></a><span class=kn>from</span><span class=w> </span><span class=nn>.basetrack</span><span class=w> </span><span class=kn>import</span> <span class=n>BaseTrack</span><span class=p>,</span> <span class=n>TrackState</span>
</span><span id=__span-15-8><a href=#__codelineno-15-8 id=__codelineno-15-8 name=__codelineno-15-8></a><span class=kn>from</span><span class=w> </span><span class=nn>.utils</span><span class=w> </span><span class=kn>import</span> <span class=n>matching</span>
</span><span id=__span-15-9><a href=#__codelineno-15-9 id=__codelineno-15-9 name=__codelineno-15-9></a><span class=kn>from</span><span class=w> </span><span class=nn>.utils.kalman_filter</span><span class=w> </span><span class=kn>import</span> <span class=n>KalmanFilterXYAH</span>
</span></code></pre></div></blockquote><p>å°† <code>face_orientation.py</code> ä¿®æ”¹æˆç›¸å¯¹å¯¼å…¥<div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a><span class=kn>import</span><span class=w> </span><span class=nn>cv2</span>
</span><span id=__span-16-2><a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
</span><span id=__span-16-3><a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a>
</span><span id=__span-16-4><a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a><span class=hll><span class=kn>from</span><span class=w> </span><span class=nn>.modules.face_detection</span><span class=w> </span><span class=kn>import</span> <span class=n>FaceDetector</span>
</span></span><span id=__span-16-5><a href=#__codelineno-16-5 id=__codelineno-16-5 name=__codelineno-16-5></a><span class=hll><span class=kn>from</span><span class=w> </span><span class=nn>.modules.mark_detection</span><span class=w> </span><span class=kn>import</span> <span class=n>MarkDetector</span>
</span></span><span id=__span-16-6><a href=#__codelineno-16-6 id=__codelineno-16-6 name=__codelineno-16-6></a><span class=hll><span class=kn>from</span><span class=w> </span><span class=nn>.modules.pose_estimation</span><span class=w> </span><span class=kn>import</span> <span class=n>PoseEstimator</span>
</span></span><span id=__span-16-7><a href=#__codelineno-16-7 id=__codelineno-16-7 name=__codelineno-16-7></a><span class=hll><span class=kn>from</span><span class=w> </span><span class=nn>.utils</span><span class=w> </span><span class=kn>import</span> <span class=n>refine</span>
</span></span></code></pre></div><p>å†æ¬¡è¿è¡Œï¼Œå‡ºç°äº†å¯¼å…¥æ¨¡å‹æ–‡ä»¶çš„æŠ¥é”™<div class="language-bash highlight"><pre><span></span><code><span id=__span-17-1><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a>Traceback<span class=w> </span><span class=o>(</span>most<span class=w> </span>recent<span class=w> </span>call<span class=w> </span>last<span class=o>)</span>:
</span><span id=__span-17-2><a href=#__codelineno-17-2 id=__codelineno-17-2 name=__codelineno-17-2></a><span class=w>  </span>File<span class=w> </span><span class=s2>"c:\Github\vision\src\scripts\test.py"</span>,<span class=w> </span>line<span class=w> </span><span class=m>9</span>,<span class=w> </span><span class=k>in</span><span class=w> </span>&lt;module><span class=w>  </span>
</span><span id=__span-17-3><a href=#__codelineno-17-3 id=__codelineno-17-3 name=__codelineno-17-3></a><span class=w>    </span><span class=nv>estimator</span><span class=w> </span><span class=o>=</span><span class=w> </span>OrientationRecognizer<span class=o>(</span>frame_width,<span class=w> </span>frame_height<span class=o>)</span><span class=w>    </span>
</span><span id=__span-17-4><a href=#__codelineno-17-4 id=__codelineno-17-4 name=__codelineno-17-4></a><span class=w>  </span>File<span class=w> </span><span class=s2>"c:\Github\vision\src\scripts\face_orientation_recognition\face_orientation.py"</span>,<span class=w> </span>line<span class=w> </span><span class=m>35</span>,<span class=w> </span><span class=k>in</span><span class=w> </span>__init__
</span><span id=__span-17-5><a href=#__codelineno-17-5 id=__codelineno-17-5 name=__codelineno-17-5></a><span class=w>    </span>self.face_detector<span class=w> </span><span class=o>=</span><span class=w> </span>FaceDetector<span class=o>(</span><span class=s2>"assets/face_detector.onnx"</span><span class=o>)</span><span class=w>  </span>
</span><span id=__span-17-6><a href=#__codelineno-17-6 id=__codelineno-17-6 name=__codelineno-17-6></a><span class=w>  </span>File<span class=w> </span><span class=s2>"c:\Github\vision\src\scripts\face_orientation_recognition\modules\face_detection.py"</span>,<span class=w> </span>line<span class=w> </span><span class=m>67</span>,<span class=w> </span><span class=k>in</span><span class=w> </span>__init__
</span><span id=__span-17-7><a href=#__codelineno-17-7 id=__codelineno-17-7 name=__codelineno-17-7></a><span class=w>    </span>assert<span class=w> </span>os.path.exists<span class=o>(</span>model_file<span class=o>)</span>,<span class=w> </span>f<span class=s2>"File not found: {model_file}"</span>
</span><span id=__span-17-8><a href=#__codelineno-17-8 id=__codelineno-17-8 name=__codelineno-17-8></a>AssertionError:<span class=w> </span>File<span class=w> </span>not<span class=w> </span>found:<span class=w> </span>assets/face_detector.onnx
</span></code></pre></div><p>äºæ˜¯è¯¢é—®copilot<details class=example open><summary>å¯¹è¯è®°å½•</summary> <p>RonaldLN:</p> <p><code>@terminal</code> <code>/explain</code> <code>#terminalLastCommand</code></p> <p>Â </p> <p>Github Copilot:</p> <p>æ ¹æ®æ‚¨æä¾›çš„ç»ˆç«¯æœ€åè¿è¡Œå‘½ä»¤çš„ä¸Šä¸‹æ–‡ï¼Œé”™è¯¯ä¿¡æ¯è¡¨æ˜åœ¨åˆå§‹åŒ– <code>OrientationRecognizer</code> å¯¹è±¡æ—¶ï¼Œå°è¯•åŠ è½½ <code>face_detector.onnx</code> æ¨¡å‹æ–‡ä»¶å¤±è´¥ï¼Œå› ä¸ºæ— æ³•åœ¨æŒ‡å®šçš„è·¯å¾„ <code>assets/face_detector.onnx</code> æ‰¾åˆ°è¯¥æ–‡ä»¶ã€‚</p> <p>è¿™ä¸ªé—®é¢˜é€šå¸¸æ˜¯å› ä¸ºæ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®æˆ–è€…æ–‡ä»¶ç¡®å®ä¸å­˜åœ¨äºé¢„æœŸçš„ä½ç½®ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p> <ol><li><p><strong>æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</strong>ï¼šé¦–å…ˆï¼Œç¡®ä¿ <code>face_detector.onnx</code> æ–‡ä»¶ç¡®å®å­˜åœ¨äºé¡¹ç›®çš„ <code>assets</code> ç›®å½•ä¸‹ã€‚ä½ éœ€è¦åœ¨ <code>C:\Github\vision</code> ç›®å½•ä¸‹æŸ¥æ‰¾ <code>assets</code> ç›®å½•ï¼Œå¹¶ç¡®è®¤ <code>face_detector.onnx</code> æ–‡ä»¶æ˜¯å¦åœ¨é‚£é‡Œã€‚</p><li><p><strong>æ­£ç¡®è®¾ç½®æ–‡ä»¶è·¯å¾„</strong>ï¼šå¦‚æœ <code>assets</code> ç›®å½•å’Œ <code>face_detector.onnx</code> æ–‡ä»¶éƒ½å­˜åœ¨ï¼Œä½†ä»ç„¶å‡ºç°é”™è¯¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºç¨‹åºè¿è¡Œæ—¶çš„å½“å‰å·¥ä½œç›®å½•ï¼ˆCWDï¼‰ä¸æ˜¯ä½ é¢„æœŸçš„ç›®å½•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹äºå½“å‰è„šæœ¬æ–‡ä»¶çš„è·¯å¾„æ¥å¼•ç”¨æ¨¡å‹æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„è„šæœ¬ä½äº <code>c:\Github\vision\src\scripts</code> ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥è¿™æ ·ä¿®æ”¹ä»£ç ï¼š</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
</span><span id=__span-18-2><a href=#__codelineno-18-2 id=__codelineno-18-2 name=__codelineno-18-2></a>
</span><span id=__span-18-3><a href=#__codelineno-18-3 id=__codelineno-18-3 name=__codelineno-18-3></a><span class=c1># è·å–å½“å‰è„šæœ¬æ–‡ä»¶çš„ç›®å½•</span>
</span><span id=__span-18-4><a href=#__codelineno-18-4 id=__codelineno-18-4 name=__codelineno-18-4></a><span class=n>current_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
</span><span id=__span-18-5><a href=#__codelineno-18-5 id=__codelineno-18-5 name=__codelineno-18-5></a><span class=c1># æ„å»ºæ¨¡å‹æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span>
</span><span id=__span-18-6><a href=#__codelineno-18-6 id=__codelineno-18-6 name=__codelineno-18-6></a><span class=n>model_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>current_dir</span><span class=p>,</span> <span class=s2>".."</span><span class=p>,</span> <span class=s2>".."</span><span class=p>,</span> <span class=s2>"assets"</span><span class=p>,</span> <span class=s2>"face_detector.onnx"</span><span class=p>)</span>
</span><span id=__span-18-7><a href=#__codelineno-18-7 id=__codelineno-18-7 name=__codelineno-18-7></a>
</span><span id=__span-18-8><a href=#__codelineno-18-8 id=__codelineno-18-8 name=__codelineno-18-8></a><span class=bp>self</span><span class=o>.</span><span class=n>face_detector</span> <span class=o>=</span> <span class=n>FaceDetector</span><span class=p>(</span><span class=n>model_path</span><span class=p>)</span>
</span></code></pre></div> <p>è¿™æ®µä»£ç ä½¿ç”¨ <code>os.path</code> æ¨¡å—æ¥æ„å»º <code>face_detector.onnx</code> æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œæ— è®ºå½“å‰çš„å·¥ä½œç›®å½•æ˜¯ä»€ä¹ˆï¼Œéƒ½èƒ½æ­£ç¡®åœ°æ‰¾åˆ°æ–‡ä»¶ã€‚</p><li><p><strong>ç¡®ä¿è·¯å¾„åˆ†éš”ç¬¦æ­£ç¡®</strong>ï¼šåœ¨ Windows ç³»ç»Ÿä¸Šï¼Œè·¯å¾„åˆ†éš”ç¬¦æ˜¯åæ–œæ  <code>\</code>ï¼Œè€Œåœ¨ UNIX-like ç³»ç»Ÿä¸Šï¼ˆåŒ…æ‹¬ Linux å’Œ macOSï¼‰ï¼Œè·¯å¾„åˆ†éš”ç¬¦æ˜¯æ­£æ–œæ  <code>/</code>ã€‚è™½ç„¶ Python é€šå¸¸å¯ä»¥æ­£ç¡®å¤„ç†è¿™äº›å·®å¼‚ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„è·¯å¾„åˆ†éš”ç¬¦å¯èƒ½ä¼šé¿å…è·¯å¾„é—®é¢˜ã€‚<code>os.path.join</code> æ–¹æ³•å¯ä»¥è‡ªåŠ¨å¤„ç†è¿™ç§å·®å¼‚ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨ã€‚</p></ol> <p>é€šè¿‡ä¸Šè¿°æ–¹æ³•ä¹‹ä¸€ï¼Œä½ åº”è¯¥èƒ½å¤Ÿè§£å†³æ‰¾ä¸åˆ°æ¨¡å‹æ–‡ä»¶çš„é—®é¢˜ã€‚</p></details><p>äºæ˜¯è¿›è¡Œä¿®æ”¹<div class="language-python highlight"><span class=filename>face_orientation.py</span><pre><span></span><code><span id=__span-19-1><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a><span class=hll><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
</span></span><span id=__span-19-2><a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a><span class=o>...</span>
</span><span id=__span-19-3><a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a><span class=k>class</span><span class=w> </span><span class=nc>OrientationRecognizer</span><span class=p>:</span>
</span><span id=__span-19-4><a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>frame_width</span><span class=p>,</span> <span class=n>frame_height</span><span class=p>):</span>
</span><span id=__span-19-5><a href=#__codelineno-19-5 id=__codelineno-19-5 name=__codelineno-19-5></a>        <span class=o>...</span>
</span><span id=__span-19-6><a href=#__codelineno-19-6 id=__codelineno-19-6 name=__codelineno-19-6></a><span class=hll>        <span class=c1># è·å–å½“å‰è„šæœ¬æ–‡ä»¶çš„ç›®å½•</span>
</span></span><span id=__span-19-7><a href=#__codelineno-19-7 id=__codelineno-19-7 name=__codelineno-19-7></a><span class=hll>        <span class=n>current_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
</span></span><span id=__span-19-8><a href=#__codelineno-19-8 id=__codelineno-19-8 name=__codelineno-19-8></a>
</span><span id=__span-19-9><a href=#__codelineno-19-9 id=__codelineno-19-9 name=__codelineno-19-9></a>        <span class=c1># Setup a face detector to detect human faces.</span>
</span><span id=__span-19-10><a href=#__codelineno-19-10 id=__codelineno-19-10 name=__codelineno-19-10></a><span class=hll>        <span class=bp>self</span><span class=o>.</span><span class=n>face_detector</span> <span class=o>=</span> <span class=n>FaceDetector</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>current_dir</span><span class=p>,</span> <span class=s2>"assets"</span><span class=p>,</span> <span class=s2>"face_detector.onnx"</span><span class=p>))</span>
</span></span><span id=__span-19-11><a href=#__codelineno-19-11 id=__codelineno-19-11 name=__codelineno-19-11></a>
</span><span id=__span-19-12><a href=#__codelineno-19-12 id=__codelineno-19-12 name=__codelineno-19-12></a>        <span class=c1># Setup a mark detector to detect landmarks.</span>
</span><span id=__span-19-13><a href=#__codelineno-19-13 id=__codelineno-19-13 name=__codelineno-19-13></a><span class=hll>        <span class=bp>self</span><span class=o>.</span><span class=n>mark_detector</span> <span class=o>=</span> <span class=n>MarkDetector</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>current_dir</span><span class=p>,</span> <span class=s2>"assets"</span><span class=p>,</span> <span class=s2>"face_landmarks.onnx"</span><span class=p>))</span>
</span></span><span id=__span-19-14><a href=#__codelineno-19-14 id=__codelineno-19-14 name=__codelineno-19-14></a>        <span class=o>...</span>
</span></code></pre></div><div class="language-python highlight"><span class=filename>modules/pose_estimation.py</span><pre><span></span><code><span id=__span-20-1><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a><span class=hll><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
</span></span><span id=__span-20-2><a href=#__codelineno-20-2 id=__codelineno-20-2 name=__codelineno-20-2></a><span class=hll>
</span></span><span id=__span-20-3><a href=#__codelineno-20-3 id=__codelineno-20-3 name=__codelineno-20-3></a><span class=hll>
</span></span><span id=__span-20-4><a href=#__codelineno-20-4 id=__codelineno-20-4 name=__codelineno-20-4></a><span class=hll><span class=c1># è·å–å½“å‰è„šæœ¬æ–‡ä»¶çš„ç›®å½•</span>
</span></span><span id=__span-20-5><a href=#__codelineno-20-5 id=__codelineno-20-5 name=__codelineno-20-5></a><span class=hll><span class=n>current_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
</span></span><span id=__span-20-6><a href=#__codelineno-20-6 id=__codelineno-20-6 name=__codelineno-20-6></a><span class=hll><span class=c1># æ¨¡å‹æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span>
</span></span><span id=__span-20-7><a href=#__codelineno-20-7 id=__codelineno-20-7 name=__codelineno-20-7></a><span class=hll><span class=n>model_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>current_dir</span><span class=p>,</span> <span class=s2>".."</span><span class=p>,</span> <span class=s2>"assets"</span><span class=p>,</span> <span class=s2>"model.txt"</span><span class=p>)</span>
</span></span><span id=__span-20-8><a href=#__codelineno-20-8 id=__codelineno-20-8 name=__codelineno-20-8></a>
</span><span id=__span-20-9><a href=#__codelineno-20-9 id=__codelineno-20-9 name=__codelineno-20-9></a><span class=o>...</span>
</span><span id=__span-20-10><a href=#__codelineno-20-10 id=__codelineno-20-10 name=__codelineno-20-10></a>
</span><span id=__span-20-11><a href=#__codelineno-20-11 id=__codelineno-20-11 name=__codelineno-20-11></a><span class=k>class</span><span class=w> </span><span class=nc>PoseEstimator</span><span class=p>:</span>
</span><span id=__span-20-12><a href=#__codelineno-20-12 id=__codelineno-20-12 name=__codelineno-20-12></a>    <span class=o>...</span>
</span><span id=__span-20-13><a href=#__codelineno-20-13 id=__codelineno-20-13 name=__codelineno-20-13></a><span class=hll>    <span class=k>def</span><span class=w> </span><span class=nf>_get_full_model_points</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=o>=</span><span class=n>model_path</span><span class=p>):</span>
</span></span><span id=__span-20-14><a href=#__codelineno-20-14 id=__codelineno-20-14 name=__codelineno-20-14></a>        <span class=o>...</span>
</span></code></pre></div><p>å†æ¬¡è¿è¡Œï¼Œå°±èƒ½å¤Ÿä½¿ç”¨æ‘„åƒå¤´è¿›è¡Œæ£€æµ‹äº†<hr><p>ç„¶åç»§ç»­å†™ <code>face_identification</code> ï¼Œæœ‰äº† <code>face_orientation_recognition</code> çš„ç»éªŒï¼Œè¿™ä¸ªå°±ç®€å•å¾ˆå¤šäº†ï¼Œå¾ˆå¿«å°±å¼„å®Œäº†<hr><div class=md-source-file><small> æœ€åæ›´æ–°: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-07-05T00:43:58+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-07-05</span> <br> åˆ›å»ºæ—¥æœŸ: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-07-05T00:43:58+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-07-05</span> </small></div><h2 id=__comments>è¯„è®º</h2><script async crossorigin data-category=Announcements data-category-id=DIC_kwDOKTCz0s4CZ2M5 data-emit-metadata=1 data-input-position=top data-lang=zh-CN data-loading=lazy data-mapping=pathname data-reactions-enabled=1 data-repo=RonaldLN/MyPamphlet-Blog data-repo-id=R_kgDOKTCz0g data-strict=0 data-theme=https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow.css src=https://giscus.app/client.js></script><script>var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "sunset-glow-dark"
        ? "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow_dark.css"
        : "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow.css"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "sunset-glow-dark"
            ? "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow_dark.css"
            : "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow.css"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })</script></article></div></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> å›åˆ°é¡µé¢é¡¶éƒ¨</button></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=é¡µè„š><a aria-label="ä¸Šä¸€é¡µ: å®ç°äººè„¸æ¯”å¯¹åŠŸèƒ½çš„è®°å½•" class="md-footer__link md-footer__link--prev" href=../03/> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></div> <div class=md-footer__title><span class=md-footer__direction> ä¸Šä¸€é¡µ </span><div class=md-ellipsis>å®ç°äººè„¸æ¯”å¯¹åŠŸèƒ½çš„è®°å½•</div></div> </a><a aria-label="ä¸‹ä¸€é¡µ: åœ¨Pythonä¸­å®ç°ä½¿ç”¨MediaPipeæ‘„åƒå¤´è§†é¢‘æµè¯†åˆ«æ‰‹åŠ¿å¹¶æ˜¾ç¤ºæ ‡æ³¨å›¾åƒ" class="md-footer__link md-footer__link--next" href=../06/pythonmediapipe/> <div class=md-footer__title><span class=md-footer__direction> ä¸‹ä¸€é¡µ </span><div class=md-ellipsis>åœ¨Pythonä¸­å®ç°ä½¿ç”¨MediaPipeæ‘„åƒå¤´è§†é¢‘æµè¯†åˆ«æ‰‹åŠ¿å¹¶æ˜¾ç¤ºæ ‡æ³¨å›¾åƒ</div></div> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg></div> </a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright><div class=md-copyright__highlight>Copyright Â© 2023 - 2025 Ronald Luo</div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><div class=md-progress data-md-component=progress role=progressbar></div><script id=__config type=application/json>{"base": "../../..", "features": ["navigation.expand", "toc.follow", "navigation.top", "search.suggest", "navigation.footer", "navigation.tabs", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "content.code.copy", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script><script src=../../../assets/javascripts/bundle.aecac24b.min.js></script><script src=../../../js/timeago.min.js></script><script src=../../../js/timeago_mkdocs_material.js></script><script src=../../../javascripts/katex.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js></script><script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script>