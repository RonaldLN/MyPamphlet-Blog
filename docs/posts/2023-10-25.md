---
draft: false
date: 2023-10-25
authors:
  - ronald_luo
categories:
  - Configure & Debug
comments: true
---

# è°ƒæ•´ mkdocs-material ç½‘é¡µå¤–è§‚è¿‡ç¨‹è®°å½•

## èµ·å› 

è·Ÿå‰ä¸¤ç¯‡ä¸€æ ·ğŸ˜ï¼Œä¹Ÿæ˜¯ç”±äºçœ‹åˆ° [é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬ (tonycrane.cc)](https://note.tonycrane.cc/) ï¼Œç„¶åè§‰å¾—æ¯”é»˜è®¤çš„è®¾ç½®è¦å¥½çœ‹ï¼Œæ‰€ä»¥æ‰“ç®—å¯¹æˆ‘çš„ç½‘é¡µä¹Ÿå°è¯•è¿›è¡Œä¿®æ”¹

<!-- more -->

## cvä½œè€…çš„cssè®¾ç½®

[`/docs/css/custom.css`](https://github.com/TonyCrane/note/blob/master/docs/css/custom.css)

æˆ‘å…ˆcväº†

```css
@media screen and (min-width: 960px) {
  html {
    font-size: 137.5%;
  }
}

@media screen and (min-width: 100em) {
  html {
    font-size: 137.5%;
  }
}

@media screen and (min-width: 125em) {
  html {
    font-size: 137.5%;
  }
}
```

ç„¶åé¢„è§ˆï¼Œå‘ç°å·¦å³ä¾§è¾¹æ (å¯¼èˆªæ å’Œç›®å½•æ )ç›¸éš”çš„é—´è·å˜å®½äº†ï¼Œ

ç„¶åç»§ç»­cväº†

```css
.md-typeset h1, .md-typeset h2 {
  font-weight: 600;
}

.md-typeset h3 {
  font-weight: 500;
}

.md-typeset h1, .md-typeset h2, .md-typeset h3, .md-typeset h4 {
  letter-spacing: 0;
}

.md-typeset {
  font-size: .7rem;
}

.md-typeset h3 {
  font-weight: 600;
}
```

ç„¶åç»è¿‡å‡ æ¬¡ä»£ç æ³¨é‡Šçš„æµ‹è¯•å‘ç°ï¼Œ

```css
.md-typeset {
  font-size: .7rem;
}
```

è¿™ä¸€ä¸ªè®¾ç½®æ˜¯è®¾ç½®æ‰€æœ‰å­—ä½“å¤§å°çš„ï¼Œ

ç»§ç»­å¤åˆ¶ï¼Œ

```css
.md-typeset code:not(pre code) {
  font-size: inherit;
}
```

æ·»åŠ äº†è¿™ä¸ªè®¾ç½®ä¹‹åï¼Œå‘ç°è¡Œå†…ä»£ç çš„å­—ä½“å˜å¤§äº†(è€Œä»£ç å—ä¸­çš„ä»£ç æ²¡å˜å¤§)ï¼Œ

>   æ­¤å¤–è¿˜å¤åˆ¶äº†
>
>   ```css
>   @media screen and (max-width: 59.9375em) {
>     .md-nav__source {
>       background-color: var(--md-primary-fg-color);
>     }
>   }
>   
>   @media screen and (max-width: 76.1875em) {
>     .md-nav--primary .md-nav__title {
>       background-color: var(--md-primary-fg-color);
>     }
>   }
>   ```
>
>   ä½†è¿˜ä¸æ¸…é™¤æœ‰ä»€ä¹ˆç”¨

ç„¶åè¿™æ—¶çš„æ•ˆæœå¦‚ä¸‹

![set_page_1](../images/set_page_1.png){ loading=lazy }

## è‡ªå·±è¿›è¡Œcssçš„è®¾ç½®

è¿™æ—¶æˆ‘æ„Ÿè§‰ä»£ç å—ä¸­çš„å­—/ä»£ç æ˜¾å¾—æœ‰äº›æŒ¤ï¼Œæ‰€ä»¥æƒ³å¯¹ä»£ç å—ä¸­çš„è®¾ç½®è¿›è¡Œä¿®æ”¹ï¼Œ

ç”±äº `.md-typeset code:not(pre code)` æ˜¯åªè®¾ç½®è¡Œå†…ä»£ç ï¼Œç„¶åæˆ‘çŒœæµ‹å¯èƒ½å»æ‰ `:not(pre code)` è¯´ä¸å®šèƒ½è®¾ç½®ä»£ç å—ï¼Œå‘ç°æœç„¶å¯ä»¥ï¼Œ

```css
.md-typeset code {
  font-size: inherit;
}
```

![set_page_2](../images/set_page_2.png){ loading=lazy }

ä½†ä¿®æ”¹å®Œå‘ç°ï¼Œå­—ä½“ä¼¼ä¹åˆå¤ªå¤§äº†ï¼Œ

ç„¶åå› ä¸ºæ„Ÿè§‰å°±è¿™ä¹ˆç›²ç›®æ‘¸ç´¢æ‘¸ä¸å‡ºæ¥ï¼Œæ‰€ä»¥æœç´¢äº†ä¸€ä¸‹ `css .md-typeset` ï¼Œç„¶åçœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« 

[å¦‚ä½•åœ¨mkdocsä¸­è‡ªå®šä¹‰css - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/568788779)

å‘ç°å¯ä»¥é€šè¿‡ ++f12++ æ‰“å¼€ ***å¼€å‘äººå‘˜å·¥å…·*** (æˆ–è€…å³é”®ï¼Œç‚¹å‡» æ£€æŸ¥ (Edge æµè§ˆå™¨))ï¼Œåœ¨å…¶ä¸­å¯ä»¥çœ‹åˆ°å¯¹åº”å¤–è§‚çš„å¯¹åº”çš„csså±æ€§å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä¿®æ”¹è¿›è¡Œæ•ˆæœçš„*é¢„è§ˆ*ï¼Œ

ç”±äºä¸€å¼€å§‹æ²¡æœ‰æ‰¾åˆ°ä¿®æ”¹å±æ€§çš„å¯¹åº”çš„åŒº/çª—å£ï¼ŒåˆæŸ¥çœ‹äº†å¦ä¸€ç¯‡æ–‡ç« ä½œä¸ºè¾…åŠ©

[F12 - å¼€å‘è€…å·¥å…·è¯¦è§£ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/231865779)

ç„¶åæ‘¸ç´¢äº†ä¸€ç•ªï¼Œå¤§è‡´æ‡‚å¾—å¦‚ä½•æ“ä½œäº†ï¼Œ

ä»¥æˆ‘å°è¯•çš„ ==æŸ¥æ‰¾ **ä»£ç å—è¡Œé—´è·** å’Œ **åˆ†å‰²çº¿å®½åº¦** çš„å¯¹åº”å±æ€§== ä¸ºä¾‹ï¼Œ

**ä»£ç å—è¡Œé—´è·**

![find_css_property_1](../images/find_css_property_1.png){ loading=lazy }

åœ¨å¼€å‘è€…å·¥å…·ç•Œé¢å·¦ä¸Šè§’ç‚¹å‡» ***åœ¨é¡µé¢ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ£€æŸ¥*** ï¼Œç„¶ååœ¨é¡µé¢ä¸­é€‰æ‹©ä¸€ä¸ªä»£ç å—çš„ä»£ç ç‚¹å‡»ï¼Œ

![find_css_property_2](../images/find_css_property_2.png){ loading=lazy }

ç„¶åï¼Œ*å…ƒç´ * ä¸­å°±ä¼šé€‰å®šå¹¶é«˜äº®å¯¹åº”çš„ html è¯­å¥ï¼Œ

ç„¶åå°±å¯ä»¥åœ¨ä¸‹æ–¹çš„ ***æ ·å¼*** ä¸­ï¼Œ**==æ ¹æ®å±æ€§çš„è‹±æ–‡åï¼Œä»¥åŠå±æ€§çš„å€¼çš„ç±»å‹==**ï¼Œæ¥åˆ¤æ–­æ˜¯å¦æ˜¯æƒ³æ‰¾çš„å±æ€§ï¼Œ

![find_css_property_3](../images/find_css_property_3.png){ loading=lazy }

ç»è¿‡ä¸€ä¼šçš„ç¿»æ‰¾ï¼Œæˆ‘çŒœæµ‹ `line-height` å¯èƒ½æ˜¯è®¾ç½®ä»£ç å—è¡Œé—´è·çš„å±æ€§ï¼Œ

äºæ˜¯ç‚¹å‡»å±æ€§çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œçœ‹çœ‹æ˜¯å¦ä»£ç å—çš„è¡Œé—´è·ä¼šå˜åŒ–

=== "ä¿®æ”¹å"

    ![find_css_property_4](../images/find_css_property_4.png){ loading=lazy }

=== "ä¿®æ”¹å‰"

    ![find_css_property_3](../images/find_css_property_3.png){ loading=lazy }

å‘ç°ç¡®å®å˜åŒ–äº†ï¼Œæ‰€ä»¥å°±å¯ä»¥å¾—åˆ°ï¼Œä¿®æ”¹ä»£ç å—è¡Œé—´è· åº”è¯¥æ·»åŠ çš„ css ä»£ç 

```css
.md-typeset pre {
  line-height: 1.8;
}
```

**åˆ†å‰²çº¿å®½åº¦**

å¤§è‡´çš„æµç¨‹ç›¸åŒï¼Œ

é€‰ä¸­åˆ†å‰²çº¿è¿›è¡ŒæŸ¥çœ‹

![find_css_property_5](../images/find_css_property_5.png){ loading=lazy }

ç„¶åæ‰¾åˆ°å¯èƒ½æ˜¯è®¾ç½® åˆ†å‰²çº¿å®½åº¦ çš„å±æ€§ï¼Œæ”¹åŠ¨å®ƒçš„å€¼

=== "ä¿®æ”¹å"

    ![find_css_property_7](../images/find_css_property_7.png){ loading=lazy }

=== "ä¿®æ”¹å‰"

    ![find_css_property_6](../images/find_css_property_6.png){ loading=lazy }

å‘ç° åˆ†å‰²çº¿å®½åº¦ ç¡®å®æ”¹å˜äº†ï¼Œæ‰€ä»¥å¾—åˆ°ç›¸åº”çš„cssè®¾ç½®ä»£ç 

```css
.md-typeset hr {
  border-bottom: .10rem solid var(--md-default-fg-color--lightest);
}
```

---

ç»è¿‡ä¸€äº›å°è¯•ï¼Œæœ€åä»£ç çš„å­—ä½“å¤§å°å’Œè¡Œé—´è·æˆ‘è®¾ç½®æˆäº†æˆ‘è‡ªè®¤ä¸ºæ¯”è¾ƒåˆé€‚çš„å€¼

```css
/* ä»¥ä¸‹æ˜¯ä» TonyCrane/note ä»“åº“ custom.css å¤åˆ¶çš„ */
@media screen and (min-width: 960px) {
  html {
    font-size: 137.5%;
  }
}

@media screen and (min-width: 100em) {
  html {
    font-size: 137.5%;
  }
}

@media screen and (min-width: 125em) {
  html {
    font-size: 137.5%;
  }
}

.md-typeset h1, .md-typeset h2 {
  font-weight: 600;
}

.md-typeset h3 {
  font-weight: 500;
}

.md-typeset h1, .md-typeset h2, .md-typeset h3, .md-typeset h4 {
  letter-spacing: 0;
}

.md-typeset {
  font-size: .7rem;
}

.md-typeset h3 {
  font-weight: 600;
}

@media screen and (max-width: 59.9375em) {
  .md-nav__source {
    background-color: var(--md-primary-fg-color);
  }
}

@media screen and (max-width: 76.1875em) {
  .md-nav--primary .md-nav__title {
    background-color: var(--md-primary-fg-color);
  }
}
/* å¤åˆ¶åˆ°æ­¤ */

/* ä¿®æ”¹æ‰€æœ‰ä»£ç å­—ä½“å¤§å° */
.md-typeset code {
  font-size: .65rem;
}

/* (è¦†ç›–)ä¿®æ”¹è¡Œå†…ä»£ç å­—ä½“å¤§å° */
.md-typeset code:not(pre code) {
  font-size: inherit;
}

/* ä¿®æ”¹ä»£ç å—è¡Œé—´è· */
.md-typeset pre {
  line-height: 1.8;
}

/* ä¿®æ”¹åˆ†å‰²çº¿çš„å®½åº¦ */
.md-typeset hr {
  border-bottom: .10rem solid var(--md-default-fg-color--lightest);
}
```

![set_page_3](../images/set_page_3.png){ loading=lazy }

## æ›´æ”¹ giscus è¯„è®ºåŒºåŸŸçš„é…è‰²

ç»è¿‡åœ¨æµè§ˆå™¨ä¸Šæµ‹è¯•å‘ç°äº†ç›¸å…³çš„å‡ ä¸ªå±æ€§

![set_giscus_custom_style](../images/set_giscus_custom_style.png){ loading=lazy }

-   `--color-btn-primary-text` : å³ä¸‹è§’ *:material-github: ä½¿ç”¨ Github ç™»å½•* çš„æŒ‰é’®å¤„ï¼Œè®¾ç½®å­—çš„é¢œè‰²
-   `--color-btn-primary-bg` : åŒä¸Šï¼Œè®¾ç½®æŒ‰é’®(æ•´ä½“å¡«å……)çš„é¢œè‰²
-   `--color-btn-primary-border` : åŒä¸Šï¼Œè®¾ç½®æŒ‰é’®è¾¹æ¡†çš„é¢œè‰²
-   `--color-btn-primary-hover-bg` : è®¾ç½®å°†é¼ æ ‡æ”¾ç½®åœ¨æŒ‰é’®ä¸Šæ—¶ï¼ŒæŒ‰é’®(æ•´ä½“å¡«å……)çš„é¢œè‰²
-   `--color-btn-primary-hover-border` : åŒä¸Šï¼Œè®¾ç½®æŒ‰é’®è¾¹æ¡†çš„é¢œè‰²
-   `--color-fg-default` : è®¾ç½® *`n` ä¸ªè¡¨æƒ…* ã€ *`n` æ¡è¯„è®º* ã€*è¾“å…¥/é¢„è§ˆ* (é€‰ä¸­é‚£ä¸ª) çš„å­—ä½“é¢œè‰²
-   `--color-fg-muted` : è®¾ç½® *`n` ä¸ªè¡¨æƒ…* ä¸‹çš„ç¬‘è„¸:octicons-smiley-16: ã€*è¾“å…¥/é¢„è§ˆ* (æ²¡é€‰ä¸­é‚£ä¸ª) ã€*å³ä¸Šå¤„ `Aa`* ã€*æŒ‰é’®ä¸Šæ–¹çš„markdownæ ‡å¿—:octicons-markdown-16:* çš„é¢œè‰²
-   `--color-canvas-default` : è®¾ç½® *è¾“å…¥* å’Œ æŒ‰é’® æ‰€åœ¨çš„ä¸­ç©ºçš„(æŒ–å»ä¸­é—´è¾“å…¥è¯„è®ºæ–‡æœ¬çš„åŒºåŸŸ)çš„æ¡†çš„é¢œè‰²
-   `--color-canvas-inset` : è®¾ç½® ä¸­é—´è¾“å…¥è¯„è®ºæ–‡æœ¬çš„åŒºåŸŸ çš„é¢œè‰²
-   `--color-canvas-subtle` : è®¾ç½® *é¢„è§ˆ* æ‰€åœ¨çš„ä¸Šæ–¹çš„æ¡†çš„é¢œè‰²
-   `--color-border-default` : è®¾ç½®æ‰€æœ‰å‹¾å‹’è¾¹æ¡†çš„çº¿çš„é¢œè‰²
-   `--color-accent-fg` : è®¾ç½® å°†é¼ æ ‡ç§»åŠ¨åˆ° markdownæ ‡å¿—:octicons-markdown-16: æˆ– `Aa` å¤„æ—¶ï¼Œä»¥åŠåœ¨è¯„è®ºæ–‡æœ¬çš„åŒºåŸŸä¸­è¾“å…¥æ—¶åŒºåŸŸçš„æ¡†ï¼Œæ”¹å˜çš„é¢œè‰²
-    `--color-btn-primary-selected-bg` : è®¾ç½®*ç™»å½•æŒ‰é’®*ç‚¹å‡»æ—¶çš„é¢œè‰²
-    `--color-btn-primary-disabled-text` : è®¾ç½®ç™»å½•ä¹‹åï¼Œ*è¯„è®ºæŒ‰é’®*çš„*è¯„è®º*ä¸¤ä¸ªå­—çš„é¢œè‰²
-    `--color-btn-primary-disabled-bg` : åŒä¸Šï¼Œ*è¯„è®ºæŒ‰é’®*çš„é¢œè‰²
-    `--color-btn-primary-disabled-border` : åŒä¸Šï¼Œ*è¯„è®ºæŒ‰é’®*è¾¹æ¡†çš„é¢œè‰²

### æœç´¢ä½œè€…ä»“åº“ï¼Œå­¦ä¹ ä»–æ˜¯å¦‚ä½•å°† `css` æ–‡ä»¶æ·»åŠ åˆ°ç½‘é¡µä¸­

ä¸€å¼€å§‹æˆ‘ç›´æ¥å°† è¿™ä¸ªcssæ–‡ä»¶æ·»åŠ åˆ° `mkdocs.yml` çš„ `extra_css` ä¸­ï¼Œå‘ç°ç”Ÿæˆçš„ç½‘é¡µä¸­æ²¡æœ‰äº§ç”Ÿæ”¹å˜ï¼Œ

äºæ˜¯æˆ‘å¼€å§‹å»æŸ¥çœ‹ä¸Šé¢ç½‘ç«™çš„ä½œè€…æ˜¯å¦‚ä½•è®¾ç½®çš„ã€‚

åœ¨ä¹‹å‰çš„æ‘¸ç´¢ä¸­ï¼Œæˆ‘å‘ç°äº†åœ¨ github ä»“åº“ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸­æœç´¢å†…å®¹çš„æ–¹æ³•ï¼Œ

![search_content_in_repo_1](../images/search_content_in_repo_1.png){ loading=lazy }

æˆ‘ä¸€å¼€å§‹å…ˆæ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å•å‡»äº†æŸä¸ªå±æ€§( `md-sidebar--secondary` )ï¼Œç„¶åå³ä¾§ä¼šå‡ºç°è¯¥å±æ€§åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ‰€æœ‰ç”¨æ³•çš„é¢„è§ˆï¼Œ

ç„¶å**ä¸‹é¢ä¼šæœ‰ä¸€ä¸ª `Search for this symbol` çš„æ ‡å¿—ï¼Œç‚¹å‡»å®ƒå¯ä»¥åœ¨æ•´ä¸ªä»“åº“ä¸­æœç´¢å¯¹åº”çš„å†…å®¹**ï¼Œ

äºæ˜¯æˆ‘ç‚¹å‡»ï¼Œç„¶åè·³è½¬åˆ°äº†è¿™ä¸ªæœç´¢ç•Œé¢ï¼Œ

[Code search results (github.com)](https://github.com/search?q=repo%3ATonyCrane/note md-sidebar--secondary&type=code)

æ˜¯åœ¨ github æ ä¸­æœç´¢

```txt
repo:TonyCrane/note md-sidebar--secondary
```

![search_content_in_repo_2](../images/search_content_in_repo_2.png){ loading=lazy }

äºæ˜¯ï¼Œæˆ‘å°±çŸ¥é“äº†**å¯¹ä»“åº“æ‰€æœ‰æ–‡ä»¶æœç´¢æŒ‡å®šå†…å®¹çš„æ–¹æ³•**ï¼Œå³**åœ¨ github æœç´¢æ ä¸­æœç´¢**

```txt
repo:user/repo xxx
```

äºæ˜¯æˆ‘å¼€å§‹æœç´¢ `giscus.css` åœ¨ä½œè€…ä»“åº“ä¸­çš„ç”¨æ³•

![search_giscus_css](../images/search_giscus_css.png){ loading=lazy }

äºæ˜¯æŸ¥çœ‹ `docs/js/scheme.js` æ–‡ä»¶ï¼Œå‘ç°ä¸»è¦æ˜¯è¿™ä¸¤è¡Œä½¿ç”¨äº† `giscus.css` æ–‡ä»¶ï¼Œ

```javascript
    var theme = document.querySelector("body").getAttribute("data-md-color-scheme") === "slate" ? "https://gcore.jsdelivr.net/gh/TonyCrane/note/docs/css/giscus.css" : "light"
```

```javascript
  var theme = scheme === "slate" ? "https://gcore.jsdelivr.net/gh/TonyCrane/note/docs/css/giscus.css" : "light"
```

è€Œè¿™ä¸ªç”¨æ³•å’Œæˆ‘ä¹‹å‰åœ¨ `overrides/partials/comments.html` ä¸­çš„è®¾ç½®ï¼Œç»™æˆ‘çš„æ„Ÿè§‰å¾ˆåƒ

```html
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "sunset-glow-dark"
        ? "noborder_dark"
        : "dark_dimmed"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }
    ...
  </script>
```

æ‰€ä»¥æˆ‘è®¤ä¸ºï¼Œåœ¨æˆ‘çš„ `comments.html` ä¸­ï¼Œåº”è¯¥ä¹Ÿå¯ä»¥ç›´æ¥æŠŠ `noborder_dark` `dark_dimmed` æ¢æˆå¯¹åº”çš„ `css` æ–‡ä»¶çš„åœ°å€ï¼Œ

>   giscus å®˜ç½‘ä¸Šï¼Œæ·»åŠ è‡ªå®šä¹‰çš„ä¸»é¢˜ï¼Œä¹Ÿæ˜¯æ·»åŠ  css æ–‡ä»¶çš„åœ°å€
>
>   ![giscus_custom_theme](../images/giscus_custom_theme.png){ loading=lazy }

ä½†æ˜¯ç»è¿‡æˆ‘çš„å°è¯•ï¼Œ**å‘ç°ä½¿ç”¨ç›¸å¯¹è·¯å¾„çš„æ–¹å¼ä¸å¯è¡Œ**ï¼Œè™½ç„¶æœ€ç»ˆç”Ÿæˆçš„ html æ–‡ä»¶ä¸­ï¼Œæˆ‘å»æŸ¥çœ‹ html æ–‡ä»¶çš„æºä»£ç ï¼Œæ˜¯æœ‰ `css` çš„ç›¸å¯¹è·¯å¾„çš„ï¼Œä½†æ˜¯**ä¸åŒæ–‡ä»¶å¤¹/è·¯å¾„ä¸‹çš„ html æ–‡ä»¶ç›¸å¯¹è·¯å¾„éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œè¿™ä¸ªç›¸å¯¹è·¯å¾„æ˜¯ä¸å¯¹çš„**

### å­¦ä¼šä½¿ç”¨ `jsdelivr` æ¥ä½¿ç”¨ github ä»“åº“ä¸­çš„ `css` æ–‡ä»¶

ä¸€å¼€å§‹æˆ‘çœ‹ä½œè€…çš„ç”¨æ³•ï¼Œæˆ‘ä»¥ä¸º `jsdelivr` æ˜¯ä¸€ä¸ªç±»ä¼¼ç½‘ç›˜çš„ä¸œè¥¿ï¼Œç„¶åä½œè€…æ˜¯å°† css æ–‡ä»¶ä¼ åˆ°äº†ä¸Šé¢ï¼Œç„¶åè¿›è¡Œä½¿ç”¨(ä¹‹åå‘ç°ï¼Œå…¶å®å¹¶éå¦‚æ­¤)

äºæ˜¯æˆ‘å‰å¾€ `jsdelivr` ç½‘ç«™ï¼Œ

[jsDelivr - A free, fast, and reliable CDN for JS and open source](https://www.jsdelivr.com/)

ç„¶åç¿»æ‰¾ä¸€ç•ªå‘ç°å¹¶æ²¡æœ‰æ³¨å†Œæˆ–ç™»å½•çš„åœ°æ–¹ï¼Œ

äºæ˜¯æˆ‘å°±æ„è¯†åˆ°ï¼Œè¿™å¯èƒ½å°±ä¸éœ€è¦æ³¨å†Œå°±å¯ä»¥ä½¿ç”¨ï¼Œäºæ˜¯æˆ‘å¼€å§‹æŸ¥çœ‹ä»–çš„ä½¿ç”¨è¯´æ˜æ–‡æ¡£

[Documentation - jsDelivr](https://www.jsdelivr.com/documentation)

ç„¶åç‚¹å‡»äº† [`Github`](https://www.jsdelivr.com/documentation#id-github) çš„é€‰é¡¹ï¼Œ

![jsdelivr_doc](../images/jsdelivr_doc.png){ loading=lazy }

!!! quote

    **GitHub**
    
    We recommend using npm for projects that support it for better UX - npm packages are searchable on our website, and package pages show additional useful information, such as descriptions and links to homepages.
    
    We use a permanent S3 storage to ensure all files remain available even if GitHub goes down or a repository or a release is deleted by its author. Files are fetched directly from GitHub only the first time or when S3 goes down.
    
    **Load any GitHub release, commit, or branch:**
    
    ```txt
    /gh/user/repo@version/file
    ```
    
    **Load exact version:**
    
    ```txt
    /gh/jquery/jquery@3.1.0/dist/jquery.min.js
    /gh/jquery/jquery@32b00373b3f42e5cdcb709df53f3b08b7184a944/dist/jquery.min.js
    ```
    
    **Use a version range instead of an exact version (only works with valid semver versions):**
    
    ```txt
    /gh/jquery/jquery@3/dist/jquery.min.js
    /gh/jquery/jquery@3.1/dist/jquery.min.js
    ```

æŸ¥é˜…å¹¶ç†è§£äº†ä¸€ä¸‹ï¼Œæˆ‘å°±çªç„¶æ„è¯†åˆ°ï¼Œ**è¿™ä¸ªç½‘ç«™å¯ä»¥ç›´æ¥å¯¹githubä»“åº“ä¸­å·²ç»å­˜åœ¨çš„æ–‡ä»¶ä½¿ç”¨ cdn åŠ é€Ÿ**ï¼Œ

ç„¶åæˆ‘åœ¨ **Usage Documentation** å¤„å¾—çŸ¥äº†åº”è¯¥ä½¿ç”¨çš„åŸŸåä¸º

```txt
https://cdn.jsdelivr.net
```

![jsdelivr_doc_2](../images/jsdelivr_doc_2.png){ loading=lazy }

äºæ˜¯ï¼Œæˆ‘å°è¯•ä½¿ç”¨é“¾æ¥(ä»¿ç…§ä½œè€…çš„å½¢å¼ï¼Œä¸ä½¿ç”¨ `@` )

```txt
https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog/docs/stylesheets/giscus.css
```

æˆ‘è®¿é—®è¿™ä¸ªé“¾æ¥ï¼Œä½†æµè§ˆå™¨æ˜¾ç¤º

```txt
Package size exceeded the configured limit of 50 MB. Try https://github.com/RonaldLN/MyPamphlet-Blog/tree/master/docs/stylesheets/giscus.css instead.
```

ç„¶åæˆ‘çŸ¥é“äº†ï¼Œå¦‚æœä¸ `@` å¯¹åº”åˆ†æ”¯çš„è¯ï¼Œä¼šé»˜è®¤è®¿é—® `master` åˆ†æ”¯ï¼Œæ‰€ä»¥æˆ‘æ·»åŠ ä¸Šäº† `@main` 

```txt
https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus.css
```

äºæ˜¯å°±å˜æˆäº†æ˜¾ç¤º

```txt
Package size exceeded the configured limit of 50 MB. Try https://github.com/RonaldLN/MyPamphlet-Blog/tree/main/docs/stylesheets/giscus.css instead.
```

äºæ˜¯æˆ‘å¼€å§‹ç¼–å†™ `css` æ–‡ä»¶å¹¶æ‰“ç®—å…ˆä¸Šä¼ è¿›è¡Œæµ‹è¯•

### ç¼–å†™ `css` æ–‡ä»¶ï¼Œå¹¶åœ¨ç›¸å…³æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”è®¾ç½®

æˆ‘è¿™æ—¶è®¤ä¸ºï¼Œgiscus çš„ css æ–‡ä»¶ä¸­åº”è¯¥åŒ…å«æœ‰å…¨éƒ¨å±æ€§(åœ¨æŸ¥çœ‹ä½œè€…çš„ `giscus.css` æ–‡ä»¶æ—¶ï¼Œå‘ç°ä¹Ÿæ˜¯å¦‚æ­¤)ï¼Œ

å› æ­¤ï¼Œæˆ‘æ‰“ç®— æµ…è‰²çš„ `sunset glow` æ¨¡å¼ä½¿ç”¨ `light` ä¸ºæ¨¡æ¿è¿›è¡Œä¿®æ”¹ï¼Œè€Œæ·±è‰²çš„ `sunset glow dark` ä½¿ç”¨ `noborder_dark` ä¸ºæ¨¡æ¿è¿›è¡Œä¿®æ”¹ï¼Œ

äºæ˜¯å…ˆå¤åˆ¶ [https://giscus.app/themes/light.css](https://giscus.app/themes/light.css) å’Œ [https://giscus.app/themes/noborder_dark.css](https://giscus.app/themes/noborder_dark.css) 

ç„¶åç»è¿‡åœ¨ç½‘é¡µçš„å¼€å‘å·¥å…·ä¸­ä¸æ–­å°è¯•è€Œç¡®å®š(æˆ‘éœ€è¦è®¾ç½®çš„é‚£å‡ ä¸ª)å±æ€§çš„æœ€ç»ˆçš„å€¼ï¼Œç„¶åæˆ‘å°†è¿™äº›å±æ€§æ”¾åœ¨äº†ä¸‹æ–¹ï¼Œå¹¶å°†å¯¹åº”çš„åŸæœ¬çš„å±æ€§æ³¨é‡Šæ‰ï¼Œ

æœ€ç»ˆï¼Œ

=== "giscus_sunset_glow.css"

    ???+ note "giscus_sunset_glow.css"
        
        ```css
        /*! MIT License
        * Copyright (c) 2018 GitHub Inc.
        * https://github.com/primer/primitives/blob/main/LICENSE
        */
        main {
        --color-prettylights-syntax-comment: #6e7781;
        --color-prettylights-syntax-constant: #0550ae;
        --color-prettylights-syntax-entity: #8250df;
        --color-prettylights-syntax-storage-modifier-import: #24292f;
        --color-prettylights-syntax-entity-tag: #116329;
        --color-prettylights-syntax-keyword: #cf222e;
        --color-prettylights-syntax-string: #0a3069;
        --color-prettylights-syntax-variable: #953800;
        --color-prettylights-syntax-brackethighlighter-unmatched: #82071e;
        --color-prettylights-syntax-invalid-illegal-text: #f6f8fa;
        --color-prettylights-syntax-invalid-illegal-bg: #82071e;
        --color-prettylights-syntax-carriage-return-text: #f6f8fa;
        --color-prettylights-syntax-carriage-return-bg: #cf222e;
        --color-prettylights-syntax-string-regexp: #116329;
        --color-prettylights-syntax-markup-list: #3b2300;
        --color-prettylights-syntax-markup-heading: #0550ae;
        --color-prettylights-syntax-markup-italic: #24292f;
        --color-prettylights-syntax-markup-bold: #24292f;
        --color-prettylights-syntax-markup-deleted-text: #82071e;
        --color-prettylights-syntax-markup-deleted-bg: #ffebe9;
        --color-prettylights-syntax-markup-inserted-text: #116329;
        --color-prettylights-syntax-markup-inserted-bg: #dafbe1;
        --color-prettylights-syntax-markup-changed-text: #953800;
        --color-prettylights-syntax-markup-changed-bg: #ffd8b5;
        --color-prettylights-syntax-markup-ignored-text: #eaeef2;
        --color-prettylights-syntax-markup-ignored-bg: #0550ae;
        --color-prettylights-syntax-meta-diff-range: #8250df;
        --color-prettylights-syntax-brackethighlighter-angle: #57606a;
        --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;
        --color-prettylights-syntax-constant-other-reference-link: #0a3069;
        --color-btn-text: #24292f;
        --color-btn-bg: #f6f8fa;
        --color-btn-border: #1f232826;
        --color-btn-shadow: 0 1px 0 #1f23280a;
        --color-btn-inset-shadow: inset 0 1px 0 #ffffff40;
        --color-btn-hover-bg: #f3f4f6;
        --color-btn-hover-border: #1f232826;
        --color-btn-active-bg: #ebecf0;
        --color-btn-active-border: #1f232826;
        --color-btn-selected-bg: #eeeff2;
        /* --color-btn-primary-text: #fff; */
        /* --color-btn-primary-bg: #1f883d; */
        /* --color-btn-primary-border: #1f232826; */
        --color-btn-primary-shadow: 0 1px 0 #1f23281a;
        --color-btn-primary-inset-shadow: inset 0 1px 0 #ffffff08;
        /* --color-btn-primary-hover-bg: #1a7f37; */
        /* --color-btn-primary-hover-border: #1f232826; */
        /* --color-btn-primary-selected-bg: #187733; */
        --color-btn-primary-selected-shadow: inset 0 1px 0 #002d1133;
        /* --color-btn-primary-disabled-text: #fffc; */
        /* --color-btn-primary-disabled-bg: #94d3a2; */
        /* --color-btn-primary-disabled-border: #1f232826; */
        --color-action-list-item-default-hover-bg: #d0d7de52;
        --color-segmented-control-bg: #eaeef2;
        --color-segmented-control-button-bg: #fff;
        --color-segmented-control-button-selected-border: #8c959f;
        /* --color-fg-default: #1f2328; */
        /* --color-fg-muted: #656d76; */
        --color-fg-subtle: #6e7781;
        /* --color-canvas-default: #fff; */
        --color-canvas-overlay: #fff;
        /* --color-canvas-inset: #f6f8fa; */
        /* --color-canvas-subtle: #f6f8fa; */
        /* --color-border-default: #d0d7de; */
        --color-border-muted: #d8dee4;
        --color-neutral-muted: #afb8c133;
        /* --color-accent-fg: #0969da; */
        --color-accent-emphasis: #0969da;
        --color-accent-muted: #54aeff66;
        --color-accent-subtle: #ddf4ff;
        --color-success-fg: #1a7f37;
        --color-attention-fg: #9a6700;
        --color-attention-muted: #d4a72c66;
        --color-attention-subtle: #fff8c5;
        --color-danger-fg: #d1242f;
        --color-danger-muted: #ff818266;
        --color-danger-subtle: #ffebe9;
        --color-primer-shadow-inset: inset 0 1px 0 #d0d7de33;
        --color-scale-gray-1: #eaeef2;
        --color-scale-blue-1: #b6e3ff;
    
        /*! Extensions from @primer/css/alerts/flash.scss */
        --color-social-reaction-bg-hover: var(--color-scale-gray-1);
        --color-social-reaction-bg-reacted-hover: var(--color-scale-blue-1);
    
        /* Custom style for sunset-glow mode */
        --primary-default: 123, 117, 165;
        --bg-default: 219, 154, 165;
        --color-btn-primary-text: #000000de;
        --color-btn-primary-bg: rgba(var(--primary-default), 0.45);
        --color-btn-primary-border: rgba(var(--primary-default), 0.5);
        --color-btn-primary-hover-bg: rgba(var(--primary-default), 0.3);
        --color-btn-primary-hover-border: rgba(var(--primary-default), 0.75);
        --color-btn-primary-selected-bg: rgba(var(--primary-default), 0.75);
        --color-btn-primary-disabled-text: #000000de;
        --color-btn-primary-disabled-bg: var(--color-btn-primary-bg);
        --color-btn-primary-disabled-border: var(--color-btn-primary-border);
        --color-fg-default: #000000de;
        --color-fg-muted: #0000008a;
        --color-canvas-default: hsl(322 21% 77% / 1);
        --color-canvas-inset: hsl(0 21% 87% / 1);
        --color-canvas-subtle: hsl(274 21% 70% / 1);
        --color-border-default: hsl(274 21% 70% / 1);
        --color-accent-fg: hsl(274 21% 70% / 1);
        }
    
        main .pagination-loader-container {
        background-image: url(https://github.com/images/modules/pulls/progressive-disclosure-line.svg)
        }
    
        main .gsc-loading-image {
        background-image: url(https://github.githubassets.com/images/mona-loading-default.gif)
        }
        ```

=== "giscus_sunset_glow_dark.css"

    ???+ note "giscus_sunset_glow_dark.css"
        
        ```css
        main {
        --primary-default: 20, 222, 155;
        --bg-default: 22, 22, 24;
        --color-prettylights-syntax-comment: #8b949e;
        --color-prettylights-syntax-constant: #79c0ff;
        --color-prettylights-syntax-entity: #d2a8ff;
        --color-prettylights-syntax-storage-modifier-import: #c9d1d9;
        --color-prettylights-syntax-entity-tag: #7ee787;
        --color-prettylights-syntax-keyword: #ff7b72;
        --color-prettylights-syntax-string: #a5d6ff;
        --color-prettylights-syntax-variable: #ffa657;
        --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
        --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
        --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
        --color-prettylights-syntax-carriage-return-text: #f0f6fc;
        --color-prettylights-syntax-carriage-return-bg: #b62324;
        --color-prettylights-syntax-string-regexp: #7ee787;
        --color-prettylights-syntax-markup-list: #f2cc60;
        --color-prettylights-syntax-markup-heading: #1f6feb;
        --color-prettylights-syntax-markup-italic: #c9d1d9;
        --color-prettylights-syntax-markup-bold: #c9d1d9;
        --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
        --color-prettylights-syntax-markup-deleted-bg: #67060c;
        --color-prettylights-syntax-markup-inserted-text: #aff5b4;
        --color-prettylights-syntax-markup-inserted-bg: #033a16;
        --color-prettylights-syntax-markup-changed-text: #ffdfb6;
        --color-prettylights-syntax-markup-changed-bg: #5a1e02;
        --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
        --color-prettylights-syntax-markup-ignored-bg: #1158c7;
        --color-prettylights-syntax-meta-diff-range: #d2a8ff;
        --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
        --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
        --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
        --color-btn-text: #ebebf5db;
        --color-btn-bg: rgba(var(--bg-default), 1);
        --color-btn-border: rgba(var(--bg-default), 1);
        --color-btn-shadow: 0 1px 0 rgba(var(--bg-default), 1);
        --color-btn-inset-shadow: inset 0 1px 0 rgba(var(--bg-default), 1);
        --color-btn-hover-bg: rgba(var(--bg-default), 0.5);
        --color-btn-hover-border: rgba(var(--bg-default), 0.5);
        --color-btn-active-bg: rgba(var(--primary-default), 0.2);
        --color-btn-active-border: rgba(var(--primary-default), 1);
        --color-btn-selected-bg: rgba(var(--primary-default), 0.15);
        /* --color-btn-primary-text: #fff; */
        /* --color-btn-primary-bg: rgba(var(--primary-default), 0.45); */
        /* --color-btn-primary-border: rgba(var(--primary-default), 0.5); */
        --color-btn-primary-shadow: 0 1px 0 #1b1f241a;
        --color-btn-primary-inset-shadow: inset 0 1px 0 #ffffff08;
        /* --color-btn-primary-hover-bg: rgba(var(--primary-default), 0.53); */
        /* --color-btn-primary-hover-border: rgba(var(--primary-default), 0.75); */
        /* --color-btn-primary-selected-bg: rgba(var(--primary-default), 0.45); */
        --color-btn-primary-selected-shadow: inset 0 1px 0 #002d1133;
        /* --color-btn-primary-disabled-text: #fffc; */
        /* --color-btn-primary-disabled-bg: rgba(var(--primary-default), 0.5); */
        /* --color-btn-primary-disabled-border: rgba(var(--primary-default), 0.5); */
        --color-action-list-item-default-hover-bg: #b1bac41f;
        --color-segmented-control-bg: #6e76811a;
        --color-segmented-control-button-bg: #0d1117;
        --color-segmented-control-button-selected-border: rgba(var(--bg-default), 0.85);
        /* --color-fg-default: #ebebf5db; */
        /* --color-fg-muted: #ebebf599; */
        --color-fg-subtle: #ebebf580;
        /* --color-canvas-default: #1e1e20; */
        --color-canvas-overlay: #1e1e20;
        /* --color-canvas-inset: rgba(var(--bg-default), 0.85); */
        /* --color-canvas-subtle: rgba(var(--bg-default), 1); */
        /* --color-border-default: rgba(var(--bg-default), 0.85); */
        --color-border-muted: #afb8c133;
        --color-neutral-muted: #afb8c133;
        /* --color-accent-fg: rgba(var(--primary-default), 0.85); */
        --color-accent-emphasis: rgba(var(--primary-default), 0.95);
        --color-accent-muted: rgba(var(--primary-default), 0.4);
        --color-accent-subtle: rgba(var(--primary-default), 0.1);
        --color-success-fg: #3fb950;
        --color-attention-fg: #d29922;
        --color-attention-muted: #bb800966;
        --color-attention-subtle: #bb800926;
        --color-danger-fg: #f85149;
        --color-danger-muted: #f8514966;
        --color-danger-subtle: #f851491a;
        --color-primer-shadow-inset: 0 1px 0 rgba(var(--bg-default), 1), inset 0 1px 0 rgba(var(--bg-default), 1);
        --color-scale-gray-7: #161618;
        --color-scale-blue-8: #10b98126;
    
        /*! Extensions from @primer/css/alerts/flash.scss */
        --color-social-reaction-bg-hover: var(--color-scale-gray-7);
        --color-social-reaction-bg-reacted-hover: var(--color-scale-blue-8);
    
        /* Custom style for sunset-glow mode */
        --custom-primary-default: 123, 117, 165;
        /* --custom-bg-default: 219, 154, 165; */
        --color-btn-primary-text: #fcece9;
        --color-btn-primary-bg: rgba(var(--custom-primary-default), 0.85);
        --color-btn-primary-border: rgba(var(--custom-primary-default), 0.5);
        --color-btn-primary-hover-bg: rgba(var(--custom-primary-default), 0.7);
        --color-btn-primary-hover-border: rgba(var(--custom-primary-default), 0.35);
        --color-btn-primary-selected-bg: rgba(var(--custom-primary-default), 0.5);
        --color-btn-primary-disabled-text: #fcece9;
        --color-btn-primary-disabled-bg: var(--color-btn-primary-bg);
        --color-btn-primary-disabled-border: var(--color-btn-primary-border);
        --color-fg-default: #fcece9;
        --color-fg-muted: #a4908c;
        --color-canvas-default: hsl(309 5% 15% / 1);
        --color-canvas-inset: hsl(8 5% 12% / 1);
        --color-canvas-subtle: rgb(75 59 92);
        --color-border-default: rgba(0, 0, 0, 0);
        --color-accent-fg: rgba(var(--custom-primary-default), 0.7);
        }
    
        main .pagination-loader-container {
        background-image: url(https://github.com/images/modules/pulls/progressive-disclosure-line-dark.svg)
        }
    
        main .gsc-loading-image {
        background-image: url(https://github.githubassets.com/images/mona-loading-dark.gif)
        }
        ```

ç„¶åæˆ‘å…ˆå°†è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°ä»“åº“ä¸­ `docs/stylesheets` ï¼Œ

å†å°† `comments.html` ä¸­ä¿®æ”¹æˆ

```html
{% if page.meta.comments %}
  <h2 id="__comments">{{ lang.t("meta.comments") }}</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
        data-repo="RonaldLN/MyPamphlet-Blog"
        data-repo-id="R_kgDOKTCz0g"
        data-category="Announcements"
        data-category-id="DIC_kwDOKTCz0s4CZ2M5"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="top"
        data-theme="https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow.css"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
  </script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "sunset-glow-dark"
        ? "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow_dark.css"
        : "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow.css"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "sunset-glow-dark"
            ? "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow_dark.css"
            : "https://cdn.jsdelivr.net/gh/RonaldLN/MyPamphlet-Blog@main/docs/stylesheets/giscus_sunset_glow.css"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>
{% endif %}
```

æœ€ååœ¨é¢„è§ˆæ•ˆæœä¸­ï¼Œå°±èƒ½çœ‹åˆ°ä¿®æ”¹åçš„ giscus è¯„è®ºåŒºåŸŸäº†ğŸ˜†ğŸ˜†

## è®¾ç½®ç½‘é¡µå³ä¾§ toc ç›®å½•è‡ªåŠ¨å±•å¼€æ”¶èµ·

æˆ‘ä¸€å¼€å§‹å…ˆæ˜¯åœ¨ `/docs/css` ä¸­çœ‹åˆ°äº† [`fold_toc.css`](https://github.com/TonyCrane/note/blob/master/docs/css/fold_toc.css) ï¼Œç„¶åæˆ‘(è¿™æ—¶)ä»¥ä¸ºï¼Œæ˜¯ä½œè€…æ˜¯é€šè¿‡è¿™ä¸ª css æ–‡ä»¶æ¥å®ç° toc ç›®å½•è‡ªåŠ¨å±•å¼€æ”¶èµ·åŠŸèƒ½çš„ï¼Œäºæ˜¯å¼€å§‹[æœç´¢ `fold_toc`](https://github.com/search?q=repo%3ATonyCrane%2Fnote+fold_toc&type=code) ï¼Œ

![search_fold_toc](../images/search_fold_toc.png){ loading=lazy }

å‘ç°åœ¨ [`overrides/base.html`](https://github.com/TonyCrane/note/blob/master/overrides/base.html) ä¸­ï¼Œ(åº”è¯¥æ˜¯)å¯¼å…¥äº† `fold_toc.css` ï¼Œäºæ˜¯å»æŸ¥çœ‹é‚£ä¸€å¤„ä»£ç 

```html
...
{% if page.toc and not "toc.integrate" in features %}
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      {% if page and page.meta and page.meta.hide and "toc" in page.meta.hide %}
      {% else %}
        {% include "partials/toc.html" %}
      {% endif %}
    </div>
  </div>
</div>
<script src="/js/toc.js" defer></script>
<link rel="stylesheet" href="/css/fold_toc.css">
{% endif %}
...
```

ç„¶åæˆ‘**æ³¨æ„**åˆ°ï¼Œ `fold_toc.css` ä¸Šé¢ä¸€è¡Œ

```html
<script src="/js/toc.js" defer></script>
```

å¯¼å…¥äº† `toc.js` è„šæœ¬ï¼Œæˆ‘è®¤ä¸ºå¯èƒ½ä¹Ÿè·Ÿè¿™ä¸ªåŠŸèƒ½æœ‰å…³ï¼Œäºæ˜¯å»æŸ¥çœ‹

[note/docs/js/toc.js at master Â· TonyCrane/note (github.com)](https://github.com/TonyCrane/note/blob/master/docs/js/toc.js)

å‘ç°æ˜¯ç”¨ javascript å†™äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªå‡½æ•°åº”è¯¥å°±æ˜¯å®ç°è¿™ä¸ªåŠŸèƒ½çš„ä¸»è¦/æ ¸å¿ƒéƒ¨åˆ†ï¼Œ

äºæ˜¯ï¼Œæˆ‘ä¸‹è½½å¥½ä¸¤ä¸ªæ–‡ä»¶ `docs/javascripts/toc.js` `docs/stylesheets/fold_toc.css` ï¼Œå¹¶ä¸”æ‰“ç®—å°†è¿™ä¸¤è¡Œä»£ç æ·»åŠ åˆ°ç”Ÿæˆçš„htmlé¡µé¢ä¸­ï¼Œ

ç”±äºä½œè€…å¥½åƒæ˜¯ç›´æ¥å¯¹æ•´ä¸ªç½‘é¡µçš„æ¨¡æ¿è¿›è¡Œè¦†å†™äº†(å‚è€ƒ [`overrides/base.html`](https://github.com/TonyCrane/note/blob/master/overrides/base.html) )ï¼Œè€Œæˆ‘å¹¶ä¸åƒè¿™ä¹ˆåšï¼Œç„¶åæˆ‘æ ¹æ®ä¹‹å‰çš„ç»éªŒ(æ·»åŠ ç™¾åº¦ç»Ÿè®¡çš„åŠŸèƒ½ï¼Œåœ¨ç”Ÿæˆçš„é¡µé¢ä¸­æ’å…¥ç™¾åº¦ç»Ÿè®¡çš„è„šæœ¬)ï¼Œæˆ‘å»æŸ¥çœ‹äº†å®˜æ–¹æ–‡æ¡£ä¸­çš„ [Extending the theme](https://squidfunk.github.io/mkdocs-material/customization/#extending-the-theme)ï¼Œ

ç„¶åæˆ‘å‘ç°äº†ï¼Œåœ¨ [Overriding blocks](https://squidfunk.github.io/mkdocs-material/customization/#overriding-blocks) ä¸­ï¼Œæœ‰ä¸€ä¸ª*å—*å¥½åƒå°±æ˜¯å¯¹åº”å¯¼èˆªå’Œç›®å½•éƒ¨åˆ†çš„ï¼Œ

!!! quote

    The following template blocks are provided by the theme:
    
    | Block name | Purpose                                         |
    | :--------- | :---------------------------------------------- |
    | ...        | ...                                             |
    | `site_nav` | Wraps the site navigation and table of contents |
    | ...        | ...                                             |

äºæ˜¯ä»¿ç…§å®˜æ–¹æ–‡æ¡£ä¸­çš„ç¤ºä¾‹ï¼Œæˆ‘åœ¨ `overrides/main.html` ä¸­æ·»åŠ äº†

```html
{% block site_nav %}
  <!-- Add scripts that need to run before here -->
  {{ super() }}
  <!-- Add scripts that need to run afterwards here -->
  {% if page.toc and not "toc.integrate" in features %}
    <script src="/javascripts/toc.js" defer></script>
    <link rel="stylesheet" href="/stylesheets/fold_toc.css">
  {% endif %}
{% endblock %}
```

ç„¶åè¿›è¡Œé¢„è§ˆï¼Œå‘ç°ç›®å½•èƒ½è‡ªåŠ¨å±•å¼€æŠ˜å äº†ğŸ˜†

>   è¿˜æŸ¥çœ‹äº†æºä»£ç ï¼Œå‘ç°é¢„è§ˆç”Ÿæˆé¡µé¢æºä»£ç ä¸­ï¼Œå¯¼å…¥è¿™ä¸¤ä¸ªæ–‡ä»¶çš„ä½ç½®è·Ÿä½œè€…ç½‘ç«™ä¸­çš„å·®ä¸å¤šï¼Œéƒ½**æ˜¯åœ¨è®¾ç½®ç›®å½•ä¹‹åå¯¼å…¥**ï¼Œ
>
>   -   æˆ‘é¢„è§ˆç”Ÿæˆçš„é¡µé¢éƒ¨åˆ†æºä»£ç 
>
>       ```html
>                 <li class="md-nav__item">
>         <a href="#css_2" class="md-nav__link">
>           ç¼–å†™ css æ–‡ä»¶ï¼Œå¹¶åœ¨ç›¸å…³æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”è®¾ç½®
>         </a>
>                                                 
>       </li>
>                                                       
>             </ul>
>           </nav>
>                                                 
>       </li>
>                                                     
>               <li class="md-nav__item">
>         <a href="#toc" class="md-nav__link">
>           è®¾ç½®ç½‘é¡µå³ä¾§ toc ç›®å½•è‡ªåŠ¨å±•å¼€æ”¶èµ·
>         </a>
>                                                 
>       </li>
>                                                     
>           </ul>
>                                                 
>       </nav>
>                         </div>
>                       </div>
>                     </div>
>                   
>                 
>         <!-- Add scripts that need to run afterwards here -->
>                                                 
>           <script src="/javascripts/toc.js" defer></script>
>           <link rel="stylesheet" href="/stylesheets/fold_toc.css">
>       ```
>
>   -   ä½œè€…ç½‘é¡µçš„éƒ¨åˆ†æºä»£ç 
>
>       ```html
>       <li class="md-nav__item">
>       <a class="md-nav__link" href="#32_2">
>           32 ä½è¶…å‰è¿›ä½åŠ æ³•å™¨
>         </a>
>       </li>
>       <li class="md-nav__item">
>       <a class="md-nav__link" href="#_5">
>           ä»¿çœŸæµ‹è¯•ä¸ä¸Šæ¿æµ‹è¯•
>         </a>
>       </li>
>       </ul>
>       </nav>
>       </li>
>       </ul>
>       </nav>
>       </div>
>       </div>
>       </div>
>       <script defer="" src="/js/toc.js"></script>
>       <link href="/css/fold_toc.css" rel="stylesheet"/>
>       <div class="md-content" data-md-component="content">
>       ```

ä½†åœ¨ä¸Šä¼ åˆ°ä»“åº“ä¸Šä¹‹åï¼Œå‘ç°å¹¶æ²¡æœ‰æˆåŠŸèƒ½è‡ªåŠ¨æŠ˜å å±•å¼€ç›®å½•ï¼Œè¿›å…¥æºä»£ç æŸ¥çœ‹ï¼Œç‚¹å‡» `/javascripts/toc.js` å‘ç°è¿›å…¥çš„åœ°å€æ˜¯ https://ronaldln.github.io/javascripts/toc.js ï¼Œ

æ‰€ä»¥å¾—çŸ¥ä¸€ä»¶äº‹ï¼Œhtml ä¸­çš„ç»å¯¹è·¯å¾„æ˜¯ç›¸å¯¹äº*åŸŸå*çš„ï¼Œäºæ˜¯è¿›è¡Œä¿®æ”¹ï¼Œåœ¨ä¸¤ä¸ªæ–‡ä»¶å‰åŠ ä¸Š `/MyPamphlet-Blog` ï¼Œ

æœ€åä¸Šä¼ åçš„ç½‘é¡µä¹Ÿèƒ½æˆåŠŸè‡ªåŠ¨æŠ˜å å±•å¼€ç›®å½•

## è°ƒæ•´ `fold_toc.css` å’Œ `toc.js` ä½¿å¾—æµè§ˆè¿‡çš„æ ‡é¢˜ä¼šé¢œè‰²å˜æ·¡

>   10-29

å¶ç„¶é—´å‘ç°ï¼Œä¿®æ”¹è¿‡åçš„ç›®å½•ï¼Œä¸ä¼šåƒåŸæ¥ä¸€æ ·ï¼Œæµè§ˆè¿‡çš„æ ‡é¢˜ä¼šå˜æ·±/æµ…ä¸€äº›ï¼Œå¹¶ä¸”å½“å‰æ‰€åœ¨æ ‡é¢˜çš„é¢œè‰²ä¹Ÿä¸ä¸€æ ·ï¼Œ

=== "æ·»åŠ è‡ªåŠ¨æŠ˜å å±•å¼€åŠŸèƒ½çš„tocç›®å½•"

    ![original_fold_toc_color](../images/original_fold_toc_color.png){ loading=lazy }

=== "åŸæœ¬é»˜è®¤çš„ç›®å½•"

    ![default_toc_color](../images/default_toc_color.png){ loading=lazy }

**é€šè¿‡å¼€å‘å·¥å…·æŸ¥çœ‹**ï¼Œä¿®æ”¹åç”Ÿæˆçš„ç½‘é¡µä¸­ï¼Œ*å½“å‰æ ‡é¢˜*æ˜¾ç¤ºæœ‰ `is-active` ï¼Œ

![fold_toc_is_active_title](../images/fold_toc_is_active_title.png){ loading=lazy }

 `fold_toc.css` æœ‰å¯¹åº”çš„å±æ€§

>   ```css
>   .md-nav__list a.is-active {
>     color: var(--md-default-fg-color--light);
>   }
>   ```

è€Œä¿®æ”¹å‰çš„ç½‘é¡µä¸­ï¼Œ*å½“å‰æ ‡é¢˜*æ˜¯ `active` ï¼Œ*æµè§ˆè¿‡çš„æ ‡é¢˜*æ˜¯ `passed`

=== "å½“å‰æ ‡é¢˜"

    ![default_toc_active_title](../images/default_toc_active_title.png){ loading=lazy }

=== "æµè§ˆè¿‡çš„æ ‡é¢˜"

    ![default_toc_passed_title](../images/default_toc_passed_title.png){ loading=lazy }

äºæ˜¯æˆ‘åœ¨ `fold_toc.css` ä¸­æ·»åŠ äº† `is-passed` ï¼Œå¹¶ä¿®æ”¹äº†ç›¸åº”çš„é¢œè‰²(è®¾ç½®æˆä¸ä¹‹å‰é»˜è®¤çš„å€¼ä¸€æ ·)ï¼Œ

```css
.md-nav__list a.is-active {
  /* color: var(--md-default-fg-color--light); */
  color: var(--md-typeset-a-color);
}

.md-nav__list a.is-passed {
  color: var(--md-default-fg-color--light);
}
```

ç„¶åæ‰“ç®—åœ¨ `toc.js` ä¸­ç›¸åº”è¿›è¡Œä¿®æ”¹ï¼Œä½¿å¾—èƒ½è®©*æµè§ˆè¿‡çš„æ ‡é¢˜*è¢«æ ‡è®°ä¸Š `is-passed` ï¼Œ

äºæ˜¯æˆ‘å¼€å§‹å°è¯•è®© chatgpt æ¥å¸®æˆ‘è¿›è¡Œä¿®æ”¹(å› ä¸ºæˆ‘ä¸ä¼š javascript ğŸ˜…)ï¼Œ

>   ä¸­é—´è¿˜å»é€šè¿‡å¼€å‘å·¥å…·æ‰¾åˆ°äº†é»˜è®¤ç”Ÿæˆçš„ toc çš„ ts è„šæœ¬
>
>   ![default_toc_index_ts](../images/default_toc_index_ts.png){ loading=lazy }

ä¸€å¼€å§‹ï¼Œgptè®©æˆ‘æŠŠ

```javascript
if ($heading && headingToMenu.has($heading)) {
  $menus.forEach(($menu) => $menu.classList.remove('is-active'));

  const $menu = headingToMenu.get($heading);
  $menu.classList.add('is-active');
  let $menuList = $menu.parentElement.parentElement.parentElement;
  while (
    $menuList.classList.contains('md-nav') &&
    $menuList.parentElement.tagName.toLowerCase() === 'li'
  ) {
    $menuList.parentElement.children[0].classList.add('is-active');
    $menuList = $menuList.parentElement.parentElement.parentElement;
  }
}
```

è¿™éƒ¨åˆ†æ›¿æ¢æˆ

```javascript
// Update classes based on the currentInView and $headings
for (const [heading, menu] of headingToMenu) {
  if (heading === $heading) {
    menu.classList.add('is-active');
  } else {
    menu.classList.remove('is-active');
    if ($headings.indexOf(heading) < $headings.indexOf($heading)) {
      menu.classList.add('is-passed');
    } else {
      menu.classList.remove('is-passed');
    }
  }
}
```

ç„¶åæˆ‘è¿›è¡Œé¢„è§ˆï¼Œå‘ç°ï¼Œåœ¨**åªæœ‰ä¸€çº§æ ‡é¢˜(å…¶å®æ˜¯mdæ–‡ä»¶çš„äºŒçº§æ ‡é¢˜ï¼Œä¸€çº§æ ‡é¢˜æ˜¯å¤§æ ‡é¢˜)æ—¶**ï¼Œå¤§è‡´èƒ½å¤Ÿæ˜¾ç¤ºæ­£å¸¸ï¼Œä½†å½“æˆ‘å‘ä¸Šç¿»ç½‘é¡µçš„æ—¶å€™ï¼Œ*å½“å‰æ ‡é¢˜*å´ä¸æ˜¯æ˜¾ç¤ºçš„é«˜äº®ï¼Œè€Œæ˜¯æ˜¾ç¤ºçš„å˜æ·¡çš„é¢œè‰²ï¼Œå³*æµè§ˆè¿‡*çš„é¢œè‰²ï¼Œ

äºæ˜¯æˆ‘æ ¹æ®ä»£ç åˆ†æï¼Œè§‰å¾—åº”è¯¥æ˜¯åœ¨å‘ä¸Šæ»‘åŠ¨æ—¶ï¼Œè¢«æ ‡è®°è¿‡ `is-passed` çš„æ ‡é¢˜é‡æ–°è¢«æ ‡è®° `is-active` ï¼Œæ‰€ä»¥å°±ä¼šåŒæ—¶æœ‰ä¸¤ä¸ªæ ‡è®°ï¼Œ**å› æ­¤ `fold_toc.css` ä¸­çš„ä¸¤ä¸ªè®¾ç½®éƒ½ä¼šå¯¹å…¶ç”Ÿæ•ˆï¼Œè€Œ `is-passed` çš„è®¾ç½®åœ¨å(ä¼šè¦†ç›–ä¹‹å‰çš„ `is-active` çš„è®¾ç½®)ï¼Œæ‰€ä»¥æœ€åä¼šæ˜¾ç¤ºæˆå˜æ·¡çš„é¢œè‰²**ï¼Œ

äºæ˜¯æˆ‘è®© chatgpt ä¿®æ”¹ `toc.js` çš„ä»£ç (å…¶å®ä¹Ÿå¯ä»¥å°† `fold_toc.css` ä¸­çš„ä¸¤ä¸ªè®¾ç½®çš„é¡ºåºäº¤æ¢ä¸€ä¸‹ï¼Œåº”è¯¥ä¹Ÿå¯ä»¥)ï¼Œä½¿å¾—åœ¨æ·»åŠ  `is-active` æ ‡è®°å‰å…ˆç§»é™¤ `is-passed` æ ‡è®°ï¼Œ

ç„¶å chatgpt è®©æˆ‘æ·»åŠ äº†ä¸€è¡Œ

```javascript
// Update classes based on the currentInView and $headings
for (const [heading, menu] of headingToMenu) {
  if (heading === $heading) {
    menu.classList.remove('is-passed'); // Remove 'is-passed' if present
    menu.classList.add('is-active');
  } else {
    menu.classList.remove('is-active');
    if ($headings.indexOf(heading) < $headings.indexOf($heading)) {
      menu.classList.add('is-passed');
    } else {
      menu.classList.remove('is-passed');
    }
  }
}
```

ä¿®æ”¹åé¢„è§ˆï¼Œå‘ç°å‘ä¸Šæ»‘åŠ¨æ—¶ï¼Œ*å½“å‰æ ‡é¢˜*ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤ºé«˜äº®äº†ï¼Œ

**ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„é—®é¢˜**ï¼Œåœ¨æœ‰å¤šçº§æ ‡é¢˜æ—¶(å³æœ‰ä½ä¸€çº§çš„æ ‡é¢˜æ—¶)ï¼Œæœ¬æ¥åº”è¯¥æ˜¯åœç•™åœ¨ä½çº§çš„æ ‡é¢˜ä¸‹ï¼ŒåŒ…å«å½“å‰çš„é«˜çº§çš„æ ‡é¢˜å°±ä¼šä¸€ç›´å±•å¼€(è¦ä¸ç„¶ä¼šçœ‹ä¸è§å½“å‰çš„æ ‡é¢˜)ï¼Œä½†æ˜¯åœ¨é¢„è§ˆæ—¶å‘ç°ï¼Œ**==åªæœ‰åœ¨*å½“å‰æ ‡é¢˜*åœç•™åœ¨å¯¹åº”çš„çˆ¶æ ‡é¢˜ä¸‹ï¼Œè¿™ä¸ªçˆ¶æ ‡é¢˜æ‰ä¼šå±•å¼€ï¼Œè€Œä¸€ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ ‡é¢˜(å³ç¬¬ä¸€ä¸ªå­æ ‡é¢˜)æ—¶ï¼Œçˆ¶æ ‡é¢˜å°±ä¼šæŠ˜å èµ·æ¥==**ï¼Œ

æ ¹æ®ä»£ç åˆ†æï¼Œæˆ‘è§‰å¾—é—®é¢˜çš„åŸå› åº”è¯¥æ˜¯ï¼Œ**==å½“ç§»åŠ¨åˆ°å­æ ‡é¢˜æ—¶ï¼Œçˆ¶æ ‡é¢˜å°±ä¼šç§»é™¤ `is-active` æ ‡è®°ï¼Œæ‰€ä»¥å°±ä¼šæŠ˜å èµ·æ¥==**ï¼Œ

>   æˆ‘å‚è€ƒ/è”ç³»äº† `fold_toc.css` ä¸­çš„ä»£ç 
>
>   ```css
>   .md-sidebar--secondary .md-nav > .md-nav__list > li > a + .md-nav {
>     display: none;
>   }
>   .md-sidebar--secondary .md-nav > .md-nav__list > li > a.is-active + .md-nav {
>     display: block;
>   }
>   ```

äºæ˜¯æˆ‘å¼€å§‹æ€è€ƒè¦å¦‚ä½•è®©çˆ¶æ ‡é¢˜(ä»¥åŠçˆ¶æ ‡é¢˜çš„çˆ¶æ ‡é¢˜ï¼Œå¦‚æœæœ‰çš„è¯)ä¹Ÿè¦(æš‚æ—¶)ä¿æŒ `is-active` ï¼Œ

ç„¶åæˆ‘æƒ³åˆ°äº†æœ€å¼€å§‹çš„ `toc.js` ä¸­ï¼Œå°±æ˜¯è¿™æ ·çš„ï¼Œ

>   åŸæœ¬çš„ä»£ç 
>
>   ```javascript
>   if ($heading && headingToMenu.has($heading)) {
>     $menus.forEach(($menu) => $menu.classList.remove('is-active'));
>   
>     const $menu = headingToMenu.get($heading);
>     $menu.classList.add('is-active');
>     let $menuList = $menu.parentElement.parentElement.parentElement;
>     while (
>       $menuList.classList.contains('md-nav') &&
>       $menuList.parentElement.tagName.toLowerCase() === 'li'
>     ) {
>       $menuList.parentElement.children[0].classList.add('is-active');
>       $menuList = $menuList.parentElement.parentElement.parentElement;
>     }
>   }
>   ```

äºæ˜¯ç»è¿‡ä¸€ç•ªæ€è€ƒï¼Œæˆ‘è§‰å¾—å¯ä»¥å°†ä¸¤ç‰ˆä»£ç åˆå¹¶ï¼Œå°±æ˜¯**å…ˆæŠŠ*å½“å‰æ ‡é¢˜*ä¹‹å‰çš„æ‰€æœ‰æ ‡é¢˜æ ‡è®° `is-passed` ï¼Œåœ¨å°†å½“å‰æ ‡é¢˜çš„æ‰€æœ‰çˆ¶æ ‡é¢˜å†ä¿®æ”¹æˆ `is-active` **ï¼Œ

æœ€ååˆå¹¶çš„ä»£ç (è¿˜æ³¨é‡Šæ‰æˆ–è€…æ·»åŠ äº†ä¸€äº›ä»£ç )

```javascript
// Update classes based on the currentInView and $headings
for (const [heading, menu] of headingToMenu) {
  if (heading === $heading) {
    menu.classList.remove('is-passed'); // Remove 'is-passed' if present
    menu.classList.add('is-active');
  } else {
    menu.classList.remove('is-active');
    if ($headings.indexOf(heading) < $headings.indexOf($heading)) {
      menu.classList.add('is-passed');
    } else {
      menu.classList.remove('is-passed');
    }
  }
}

if ($heading && headingToMenu.has($heading)) {
  // $menus.forEach(($menu) => $menu.classList.remove('is-active'));

  const $menu = headingToMenu.get($heading);
  $menu.classList.add('is-active');
  let $menuList = $menu.parentElement.parentElement.parentElement;
  while (
    $menuList.classList.contains('md-nav') &&
    $menuList.parentElement.tagName.toLowerCase() === 'li'
  ) {
    $menuList.parentElement.children[0].classList.remove('is-passed');
    $menuList.parentElement.children[0].classList.add('is-active');
    $menuList = $menuList.parentElement.parentElement.parentElement;
  }
}
```

??? note "toc.js"

    ```javascript
    (function (window, document) {
      function register($toc) {
        const currentInView = new Set();
        const headingToMenu = new Map();
        const $menus = Array.from($toc.querySelectorAll('.md-nav__list > li > a'));
    
        for (const $menu of $menus) {
          const elementId = $menu.getAttribute('href').trim().slice(1);
          const $heading = document.getElementById(elementId);
          if ($heading) {
            headingToMenu.set($heading, $menu);
          }
        }
    
        const $headings = Array.from(headingToMenu.keys());
    
        const callback = (entries) => {
          for (const entry of entries) {
            if (entry.isIntersecting) {
              currentInView.add(entry.target);
            } else {
              currentInView.delete(entry.target);
            }
          }
          let $heading;
          if (currentInView.size) {
            // heading is the first in-view heading
            $heading = [...currentInView].sort(($el1, $el2) => $el1.offsetTop - $el2.offsetTop)[0];
          } else if ($headings.length) {
            // heading is the closest heading above the viewport top
            $heading = $headings
              .filter(($heading) => $heading.offsetTop < window.scrollY)
              .sort(($el1, $el2) => $el2.offsetTop - $el1.offsetTop)[0];
          }
    
          // Update classes based on the currentInView and $headings
          for (const [heading, menu] of headingToMenu) {
            if (heading === $heading) {
              menu.classList.remove('is-passed'); // Remove 'is-passed' if present
              menu.classList.add('is-active');
            } else {
              menu.classList.remove('is-active');
              if ($headings.indexOf(heading) < $headings.indexOf($heading)) {
                menu.classList.add('is-passed');
              } else {
                menu.classList.remove('is-passed');
              }
            }
          }
    
          if ($heading && headingToMenu.has($heading)) {
            // $menus.forEach(($menu) => $menu.classList.remove('is-active'));
    
            const $menu = headingToMenu.get($heading);
            $menu.classList.add('is-active');
            let $menuList = $menu.parentElement.parentElement.parentElement;
            while (
              $menuList.classList.contains('md-nav') &&
              $menuList.parentElement.tagName.toLowerCase() === 'li'
            ) {
              $menuList.parentElement.children[0].classList.remove('is-passed');
              $menuList.parentElement.children[0].classList.add('is-active');
              $menuList = $menuList.parentElement.parentElement.parentElement;
            }
          }
        };
        const observer = new IntersectionObserver(callback, { threshold: 0 });
    
        for (const $heading of $headings) {
          observer.observe($heading);
          // smooth scroll to the heading
          if (headingToMenu.has($heading)) {
            const $menu = headingToMenu.get($heading);
            $menu.setAttribute('data-href', $menu.getAttribute('href'));
            $menu.setAttribute('href', 'javascript:;');
            $menu.addEventListener('click', () => {
              if (typeof $heading.scrollIntoView === 'function') {
                $heading.scrollIntoView({ behavior: 'smooth' });
              }
              const anchor = $menu.getAttribute('data-href');
              if (history.pushState) {
                history.pushState(null, null, anchor);
              } else {
                location.hash = anchor;
              }
            });
            $heading.style.scrollMargin = '4em';
          }
        }
      }
    
      if (typeof window.IntersectionObserver === 'undefined') {
        return;
      }
    
      document.querySelectorAll('.md-sidebar--secondary').forEach(register);
    })(window, document);
    
    ```

æœ€åé¢„è§ˆå‘ç°è¾¾åˆ°äº†æˆ‘æœ€ç»ˆæƒ³è¦çš„æ•ˆæœğŸ˜„

=== "è°ƒæ•´å"

    ![adjusted_fold_toc_color](../images/adjusted_fold_toc_color.png){ loading=lazy }

=== "è°ƒæ•´å‰"

    ![original_fold_toc_color](../images/original_fold_toc_color.png){ loading=lazy }

