---
draft: false
date: 2024-03-14
authors:
  - ronald_luo
categories:
  - Configure & Debug
comments: true
---

# ç¬¬ä¸€æ¬¡ä½¿ç”¨vitepressæ­å»ºç¬”è®°/è¯´æ˜æ–‡æ¡£

## èµ·å› 

ç”±äºæƒ³åœ¨[CS61Aå®Œæˆä½œä¸šçš„ä»“åº“]ä¸­æŠŠç¬”è®°æ”¾ä¸Šï¼Œ

å¹¶ä¸”ä¹‹å‰åˆçœ‹åˆ°äº†ä¸åŒçš„å‡ ä¸ªç½‘ç«™ä¸Šéƒ½ä½¿ç”¨äº†å¾ˆç›¸ä¼¼çš„ç½‘é¡µçš„æ¡†æ¶

>   -   [å¿«é€Ÿä¸Šæ‰‹ | Hexo Aurora Docs (tridiamond.tech)](https://aurora.tridiamond.tech/cn/guide/getting-started.html)
>   -   [Mermaid User Guide | Mermaid](https://mermaid.js.org/intro/getting-started.html)
>   -   [COMPOSING PROGRAMS (csfive.works)](https://sicp.csfive.works/)

(ç”±äºåœ¨è¿™äº›ç½‘ç«™ä¸Šéƒ½æ²¡æœ‰æ‰¾åˆ°å…³äºç”Ÿæˆçš„æ¡†æ¶çš„ä¿¡æ¯)äºæ˜¯å¼€å§‹æœç´¢å¯èƒ½çš„æ¡†æ¶ï¼Œ

<!-- more -->

## å‘ç°vitepress

ç”±äºä¹‹å‰æœ‰åŒå­¦å’Œæˆ‘æåˆ°äº†vueï¼Œäºæ˜¯å…ˆå»æœç´¢äº†ä¸€ä¸‹vueï¼Œå‘ç°å¥½åƒvueç”¨äºå†™ç•Œé¢çš„ä¸œè¥¿ï¼Œ

ç„¶åå‘ç°äº†vuepressè¿™ä¸ªä¸œè¥¿ï¼Œ

[é¦–é¡µ | VuePress (vuejs.org)](https://v2.vuepress.vuejs.org/zh/)

ç„¶åçœ‹äº†ä¸€ä¸‹å®˜æ–¹è¯´æ˜æ–‡æ¡£æ˜¾ç¤ºçš„æ•ˆæœï¼Œæ„Ÿè§‰æœ‰ç‚¹ç±»ä¼¼ ä½†åˆå¥½åƒä¸å®Œå…¨å’Œä¸Šé¢é‚£å‡ ä¸ªç½‘é¡µä¸€æ ·ï¼Œ

äºæ˜¯æˆ‘ä»¥ä¸ºæ˜¯æœ‰å…¶ä»–çš„ä¸»é¢˜ï¼Œäºæ˜¯åœ¨githubä¸Šæ‰¾åˆ°äº†hopeè¿™ä¸ªä¸»é¢˜

[ä¸»é¡µ | vuepress-theme-hope (vuejs.press)](https://theme-hope.vuejs.press/zh/)

ä½†å°è¯•å®‰è£…æ—¶è¯•äº†å¥½ä¸€ä¼šéƒ½æ²¡æœ‰æˆåŠŸèƒ½å¤Ÿé¢„è§ˆï¼Œå¹¶ä¸”ä¹Ÿä¼¼ä¹å’Œé‚£å‡ ä¸ªç½‘ç«™æœ‰ä¸ä¸€æ ·çš„åœ°æ–¹(æ„Ÿè§‰ä¸æ˜¯ç”¨è¿™ä¸ªæ¡†æ¶ç”Ÿæˆ)ï¼Œæ‰€ä»¥å¼€å§‹ç»§ç»­æŸ¥çœ‹å…¶ä»–çš„æ¡†æ¶ã€‚

ç„¶ååœ¨æœç´¢æ—¶å°±å‘ç°äº†vitepressè¿™ä¸ªä¸œè¥¿ï¼Œå¹¶ä»æŸç¯‡æ–‡ç« ä¸Šäº†è§£åˆ°vitepresså’Œvuepresséƒ½æ˜¯å‡ºè‡ªåŒä¸€ä¸ªå¤§ä½¬ä¹‹æ‰‹ï¼Œ

äºæ˜¯å¼€å§‹æŸ¥çœ‹vitepressçš„å®˜ç½‘ï¼Œ

[VitePress | ç”± Vite å’Œ Vue é©±åŠ¨çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨](https://vitepress.dev/zh/)

ç„¶åå‘ç°ï¼Œé‚£å‡ ä¸ªç½‘ç«™åº”è¯¥å°±æ˜¯**ç”¨vitepressç”Ÿæˆ**çš„ï¼Œäºæ˜¯å°±æŒ‰ç…§ [å¿«é€Ÿå¼€å§‹](https://vitepress.dev/zh/guide/getting-started) å°è¯•å®‰è£…ï¼Œå¹¶å¾ˆå®¹æ˜“å°±å®‰è£…ä¸Šå¹¶ä¸”èƒ½é¢„è§ˆåˆå§‹çš„é¡µé¢äº†ï¼Œ

æ‰€ä»¥æ‰“ç®—å°è¯•ç”¨vitepressæ¥æ­å»ºç¬”è®°çš„ç½‘ç«™ã€‚

## æ‘¸ç´¢åŸºæœ¬çš„è®¾ç½®

æŒ‰ç…§ [ç«™ç‚¹é…ç½® | VitePress](https://vitepress.dev/zh/reference/site-config) å¼€å§‹è¿›è¡Œé…ç½®ï¼Œ

>   å¦‚æœæ˜¯éƒ¨ç½²åœ¨githubä¸Šï¼Œéœ€è¦å°† [`base`](https://vitepress.dev/zh/reference/site-config#base) æ”¹æˆä»“åº“åï¼Œå¦‚
>
>   ```ts
>   export default {
>     ...
>     base: '/CS-61A-Fall-2020/'
>   }
>   ```

ç„¶åç»§ç»­æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®äº†å¯¼èˆªæ å’Œä¾§è¾¹æ 

### ä¸­æ–‡æ˜¾ç¤ºæ–‡å­—è®¾ç½®

åœ¨é…ç½®ç½‘ç«™æœç´¢åŠŸèƒ½çš„æ—¶å€™ï¼Œç”±äºé»˜è®¤æ˜¾ç¤ºçš„æ–‡å­—éƒ½æ˜¯è‹±æ–‡ï¼Œ æƒ³æ”¹æˆä¸­æ–‡ï¼Œ

ä½†æ˜¯æŒ‰ç…§ [è¿™é‡Œ](https://vitepress.dev/zh/reference/default-theme-search#local-search-i18n) çš„ç¤ºä¾‹é…ç½®ï¼Œå‘ç°**ä¸èƒ½ä¿®æ”¹é»˜è®¤çš„æ˜¾ç¤ºæ–‡å­—**(åº”è¯¥æ˜¯èƒ½ä¿®æ”¹å¤šè¯­è¨€ç‰ˆæœ¬çš„æ˜¾ç¤ºæ•ˆæœ)ï¼Œç„¶åæƒ³åˆ°äº†å®˜æ–¹æ–‡æ¡£ä¸­æ˜¯å·²ç»æ˜¾ç¤ºæˆä¸­æ–‡äº†ï¼Œæ‰€ä»¥å‰å»å®˜æ–¹æ–‡æ¡£çš„[githubä»“åº“çš„è®¾ç½®](https://github.com/vuejs/vitepress/tree/main/docs/.vitepress/config)**æŸ¥çœ‹ä½œè€…çš„ç°æˆçš„è®¾ç½®**ğŸ˜‰ï¼Œ

ç„¶åï¼Œåœ¨ [`index.ts`](https://github.com/vuejs/vitepress/blob/main/docs/.vitepress/config/index.ts) ä¸­æŸ¥çœ‹ï¼Œå‘ç°äº†**è®¾ç½®é»˜è®¤ç½‘é¡µçš„æ˜¾ç¤ºæ–‡å­—éœ€è¦ä½¿ç”¨ `root`** ï¼Œ

åœ¨ [`zh.ts`](https://github.com/vuejs/vitepress/blob/main/docs/.vitepress/config/zh.ts) ä¸­æ‰¾åˆ°äº†ç›¸åº”çš„[æœç´¢çš„æ–‡å­—è®¾ç½®](https://github.com/vuejs/vitepress/blob/main/docs/.vitepress/config/zh.ts#L162)ï¼Œä½†ä½œè€…ç”¨çš„æœç´¢å¼•æ“ä¸æ˜¯ `local` æ‰€ä»¥ä»–çš„è¿™äº›é…ç½®æˆ‘ä¸èƒ½ç”¨ï¼Œä½†æ˜¯ä»–[å…¶ä»–çš„ç½‘é¡µæ–‡å­—çš„é…ç½®](https://github.com/vuejs/vitepress/blob/main/docs/.vitepress/config/zh.ts#L29)æ„Ÿè§‰å¯ä»¥ç›´æ¥ç”¨ï¼Œäºæ˜¯æˆ‘å°±å¤åˆ¶åˆ°äº†æˆ‘çš„ `config.mts` ä¸­ï¼Œè€Œæœç´¢çš„æ–‡å­—å°±ä½¿ç”¨äº†å®˜æ–¹æ–‡æ¡£ä¸­çš„è®¾ç½®ï¼Œæœ€å

```ts
export default defineConfig({
  ...
  themeConfig: {
    ...
    
    footer: {
      message: 'åŸºäº <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯å‘å¸ƒ',
      copyright: `ç‰ˆæƒæ‰€æœ‰ Â© 2024-${new Date().getFullYear()} <a href="https://github.com/RonaldLN">Ronald Luo</a>`
    },

    docFooter: {
      prev: 'ä¸Šä¸€é¡µ',
      next: 'ä¸‹ä¸€é¡µ'
    },

    outline: {
      label: 'é¡µé¢å¯¼èˆª'
    },

    lastUpdated: {
      text: 'æœ€åæ›´æ–°äº',
      formatOptions: {
        dateStyle: 'short',
        timeStyle: 'medium'
      }
    },

    langMenuLabel: 'å¤šè¯­è¨€',
    returnToTopLabel: 'å›åˆ°é¡¶éƒ¨',
    sidebarMenuLabel: 'èœå•',
    darkModeSwitchLabel: 'ä¸»é¢˜',
    lightModeSwitchTitle: 'åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼',
    darkModeSwitchTitle: 'åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼',

    search: {
      provider: 'local',
      options: {
        locales: {
          root: {
            translations: {
              button: {
                buttonText: 'æœç´¢æ–‡æ¡£',
                buttonAriaLabel: 'æœç´¢æ–‡æ¡£'
              },
              modal: {
                noResultsText: 'æ— æ³•æ‰¾åˆ°ç›¸å…³ç»“æœ',
                resetButtonTitle: 'æ¸…é™¤æŸ¥è¯¢æ¡ä»¶',
                footer: {
                  selectText: 'é€‰æ‹©',
                  navigateText: 'åˆ‡æ¢'
                }
              }
            }
          }
        }
      }
    }
  },
})
```

### è®¾ç½®ç½‘é¡µå›¾æ ‡(æ‘¸ç´¢å‡ºäº†äº®æš—æ¨¡å¼çš„è®¾ç½®æ–¹æ³•)

ä»å®˜æ–¹æ–‡æ¡£ä¸Šäº†è§£åˆ°ï¼Œ

ç½‘é¡µé¡µé¢å·¦ä¸Šè§’çš„å›¾æ ‡ logo æ˜¯ç”¨ [`logo`](https://vitepress.dev/zh/reference/default-theme-config#logo) è®¾ç½®ï¼Œ

è€Œç½‘é¡µæ ‡ç­¾ä¸Šçš„å›¾æ ‡ï¼Œæ˜¯åœ¨ [`head`](https://vitepress.dev/zh/reference/site-config#example-adding-a-favicon) ä¸­è®¾ç½®ï¼Œ

ç„¶åä¸‹è½½äº†ä¸€ä¸ªsvgå›¾æ ‡

[notebook-outline.svg](https://raw.githubusercontent.com/squidfunk/mkdocs-material/master/material/templates/.icons/material/notebook-outline.svg)

å°è¯•æŒ‰ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œè®¾ç½®ï¼Œä½†æ˜¯å‘ç°ï¼Œç”±äºæˆ‘çš„æµè§ˆå™¨è®¾ç½®çš„æ˜¯æš—æ¨¡å¼ï¼Œè€Œè¿™ä¸ªå›¾æ ‡æœ¬èº«ä¹Ÿæ˜¯é»‘è‰²çš„ï¼Œæ‰€ä»¥åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºä¸å¤ªæ˜æ˜¾ï¼Œ

æ‘¸ç´¢å°è¯•äº†ä¸€ä¸‹ï¼Œå‘ç° `logo` ä¸­æœ‰ `light` å’Œ `dark` çš„è®¾ç½®ï¼Œèƒ½è®¾ç½®ä¸åŒæ¨¡å¼ä¸‹çš„å›¾æ ‡ï¼Œ

äºæ˜¯å¼€å§‹æœç´¢å¦‚ä½•ä¿®æ”¹svgå›¾ç‰‡çš„é¢œè‰²ï¼Œç„¶ååœ¨[è¿™ç¯‡æ–‡ç« ](https://juejin.cn/post/7298329919390269455#heading-3)ä¸­æ‰¾åˆ°äº†ä¿®æ”¹svgé¢œè‰²çš„æ–¹æ³•ï¼Œ

**ä¿®æ”¹é¢œè‰²éœ€è¦åœ¨ `<path>` ä¸­æ·»åŠ  `fill` å‚æ•°**ï¼Œå³

=== "ä¿®æ”¹å"

    ```xml
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      viewBox="0 0 24 24"
    >
      <path 
        d="M17 4v6l-2-2-2 2V4H9v16h10V4h-2M3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z" 
        fill="#ffffff" 
      />
    </svg>
    ```

=== "ä¿®æ”¹å‰"

    ```xml
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      viewBox="0 0 24 24"
    >
      <path 
        d="M17 4v6l-2-2-2 2V4H9v16h10V4h-2M3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z" 
      />
    </svg>
    ```

>   ```ts
>   export default defineConfig({
>     themeConfig: {
>       logo: {
>         light: '/notebook-outline.svg',
>         dark: '/notebook-outline-white.svg'
>       },
>     }
>   })
>   ```

---

è€Œç½‘é¡µæ ‡ç­¾çš„å›¾æ ‡ï¼Œç”±äºæ ¹æ®å®˜æ–¹æ–‡æ¡£ä¸­çš„è§£é‡Šï¼Œ

```ts
head: [['link', { rel: 'icon', href: '/favicon.ico' }]]
```

ä¼šè¢«æ¸²æŸ“æˆ

```html
<link rel="icon" href="/favicon.ico">
```

æ‰€ä»¥æˆ‘è®¤ä¸ºåº”è¯¥æ˜¯éœ€è¦æ·»åŠ htmlçš„å‚æ•°ï¼Œäºæ˜¯è¿›è¡Œæœç´¢ï¼Œç„¶ååœ¨è¿™ç¯‡æ–‡ç« ä¸­æ‰¾åˆ°äº†ç›¸åº”çš„æ–¹æ³•

[Favicon That Works for Light and Dark Mode (joyofcode.xyz)](https://joyofcode.xyz/dark-mode-favicon#using-the-media-attribute)

>   ```html
>   <link
>     href="favicon-light.png"
>     rel="icon"
>     media="(prefers-color-scheme: light)"
>   />
>   <link
>     href="favicon-dark.png"
>     rel="icon"
>     media="(prefers-color-scheme: dark)"
>   />
>   ```

htmlä¸­æ˜¯éœ€è¦æ·»åŠ  `media="(prefers-color-scheme: [light | dark])"`

é‚£ä¹ˆåœ¨ `config.mts` ä¸­å°±åº”è¯¥å†™æˆ

```ts
export default defineConfig({
  ...
  head: [
    ['link', { rel: 'icon', href: '/CS-61A-Fall-2020/notebook-outline.ico', media: '(prefers-color-scheme: light)' }],
    ['link', { rel: 'icon', href: '/CS-61A-Fall-2020/notebook-outline-white.ico', media: '(prefers-color-scheme: dark)' }],
  ],
})
```

ç„¶åè¿›è¡Œé¢„è§ˆï¼Œå‘ç°æˆåŠŸèƒ½æ˜¾ç¤ºä¸åŒçš„é¢œè‰²äº†ğŸ˜„

### å‘ç°homeä¸»é¡µ `features` èƒ½æ·»åŠ é“¾æ¥

æƒ³åœ¨ `features` å¯¹åº”çš„å¡ç‰‡ä¸Šï¼Œæ·»åŠ èƒ½è·³è½¬çš„é“¾æ¥ï¼Œäºæ˜¯å°±å°è¯•äº†çœ‹çœ‹èƒ½ä¸èƒ½æ·»åŠ  `link` å‚æ•°ï¼Œå‘ç°å±…ç„¶çœŸçš„å¯ä»¥ğŸ˜®

>   ```yaml
>   ---
>   features:
>     - title: Part 1
>       details: ä»ç¬¬ä¸€èŠ‚è¯¾åˆ° Midterm 1
>       link: /part1/lab00-lec3qa
>   ---
>   ```

### é…ç½®mermaid

ç”±äºå®˜æ–¹åŸºæœ¬çš„è®¾ç½®å¥½åƒå¹¶æ²¡æœ‰æä¾›mermaidç”»å›¾çš„æ”¯æŒï¼Œæ‰€ä»¥æœç´¢äº†ä¸€ä¸‹å¦‚ä½•åœ¨vitepressä¸­ä½¿ç”¨mermaidï¼Œç„¶åæ‰¾åˆ°äº†

[VitePress Plugin Mermaid | Mermaid support for vitepress (emersonbottero.github.io)](https://emersonbottero.github.io/vitepress-plugin-mermaid/)

ä½†æ˜¯åœ¨çœ‹è¿™ä¸ªæ’ä»¶çš„è¯´æ˜æ–‡æ¡£çš„ [Setup it up](https://emersonbottero.github.io/vitepress-plugin-mermaid/guide/getting-started.html#setup-it-up) æ²¡çœ‹æ‡‚è¦å¦‚ä½•è®¾ç½®ï¼Œç„¶åæƒ³åˆ°è¿™ä¸ªå®˜æ–¹æ–‡æ¡£ä¸Šå°±ä½¿ç”¨äº†mermaidï¼Œæ‰€ä»¥å¯ä»¥å‚è€ƒå®ƒçš„é…ç½®ï¼Œ

äºæ˜¯å»å®ƒçš„[githubä»“åº“çš„é…ç½®æ–‡ä»¶](https://github.com/emersonbottero/vitepress-plugin-mermaid/blob/main/docs/.vitepress/config.js#L6)æŸ¥çœ‹ï¼Œç„¶åå‘ç°ï¼Œæ˜¯éœ€è¦å°†åŸæ¥çš„

```ts
import { defineConfig } from 'vitepress'

export default defineConfig({
  ...
})
```

æ”¹æˆä¸‹é¢è¿™æ ·å³å¯

```ts
import { defineConfig } from 'vitepress'
import { withMermaid } from "vitepress-plugin-mermaid"

export default withMermaid(
  defineConfig({
    ...
  })
)
```

ç„¶åé¢„è§ˆå‘ç°èƒ½æ˜¾ç¤ºmermaidçš„å›¾äº†ğŸ˜„

### éœ€è¦ä¿®æ”¹çš„æ ¼å¼

åœ¨é¢„è§ˆæ—¶å‘ç°ï¼Œvitepressä¸æ”¯æŒç”¨ `==` æ¥æ˜¾ç¤ºé«˜äº®ï¼Œäºæ˜¯æœç´¢htmlçš„é«˜äº®æ–¹æ³•ï¼Œå‘ç°éœ€è¦ä½¿ç”¨ `<mark>` æ ‡ç­¾( `<mark>...</mark>` )

## å®Œæˆçš„ç¬”è®°ç½‘é¡µ

-   [Notes of CS61A 20Fa (ronaldln.github.io)](https://ronaldln.github.io/CS-61A-Fall-2020/)
-   [Notes of CS61A 20Fa (gitee.io)](https://ronald-luo.gitee.io/cs-61a-fall-2020/)

## åè®°

é—²æ¥æ— äº‹æœç´¢vitepressèƒ½ä¸èƒ½å†™blog(æœ¬æ¥ä»¥ä¸ºä¸èƒ½ï¼Œå› ä¸ºå®˜æ–¹æ–‡æ¡£ä¸Šå¹¶æ²¡æœ‰å…³äºblogçš„ç›¸å…³è®¾ç½®)ï¼Œç„¶åå‘ç°äº†vitepress blogï¼Œ

[VitePress Blog | VitePress Blog Theme](https://vitepressblog.dev/)

ä¼¼ä¹æ˜¯åŸºäºvitepresså¼€å‘çš„ä¸€ä¸ªèƒ½å†™blogçš„ä¸»é¢˜(æˆ–è€…è¯´æ‰©å±•æ¨¡å—)ï¼Œ

è¿™æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­çš„blogé¦–é¡µ

[VitePress Blog | VitePress Blog](https://vitepressblog.dev/blog/)

![vitepress_blog_homepage](../images/vitepress_blog_homepage.png){ loading=lazy }

![vitepress_blog_postpage](../images/vitepress_blog_postpage.png){ loading=lazy }

æ„Ÿè§‰æ•ˆæœçœ‹èµ·æ¥è¿˜è›®ä¸é”™ï¼Œæ‰“ç®—ä¹‹åè¯•è¯•
